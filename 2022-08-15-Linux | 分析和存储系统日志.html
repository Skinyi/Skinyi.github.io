<!DOCTYPE html>
<html  lang="zh-CN,en,default" >
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    <title>åˆ†æå’Œå­˜å‚¨ç³»ç»Ÿæ—¥å¿— | Avery Ma çš„ä¸ªäººç½‘ç«™</title>
    <meta name="description" content="ğŸ”´ æ­¤æ–‡ç« ç”±ä¹‹å‰çš„ Typora ç¬”è®°è¿ç§»è¿‡æ¥ï¼Œå†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ã€‚  ç³»ç»Ÿæ—¥å¿—æ¦‚è¿° â€‹è¿›ç¨‹å’Œæ“ä½œç³»ç»Ÿå†…æ ¸ä¼šä»¥å‘ç”Ÿçš„å…·ä½“äº‹ä»¶è®°å½•æ—¥å¿—ï¼Œè¿™äº›æ—¥å¿—å¯ç”¨äºç³»ç»Ÿå®¡æ ¸å’Œé—®é¢˜çš„æ•…éšœæ’é™¤ã€‚ â€‹è®¸å¤šç³»ç»Ÿä»¥æ–‡æœ¬æ–‡ä»¶çš„å½¢å¼å­˜å‚¨æ—¥å¿—ï¼Œå®ƒä»¬ä¸€èˆ¬éƒ½è¢«ä¿å­˜åœ¨ &#x2F;var&#x2F;log ç›®å½•ä¸‹ã€‚RHEL å†…å»ºäº†ä¸€ä¸ªåŸºäº Syslog åè®®çš„æ ‡å‡†æ—¥å¿—è®°å½•ç³»ç»Ÿã€‚systemd-journald å’Œ rsyslog æœåŠ¡å¤„ç†çº¢å¸½ä¼ä¸š li">
<meta property="og:type" content="article">
<meta property="og:title" content="åˆ†æå’Œå­˜å‚¨ç³»ç»Ÿæ—¥å¿—">
<meta property="og:url" content="https://skinyi.github.io/2022-08-15-Linux%20|%20%E5%88%86%E6%9E%90%E5%92%8C%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97.html">
<meta property="og:site_name" content="Avery Ma çš„ä¸ªäººç½‘ç«™">
<meta property="og:description" content="ğŸ”´ æ­¤æ–‡ç« ç”±ä¹‹å‰çš„ Typora ç¬”è®°è¿ç§»è¿‡æ¥ï¼Œå†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ã€‚  ç³»ç»Ÿæ—¥å¿—æ¦‚è¿° â€‹è¿›ç¨‹å’Œæ“ä½œç³»ç»Ÿå†…æ ¸ä¼šä»¥å‘ç”Ÿçš„å…·ä½“äº‹ä»¶è®°å½•æ—¥å¿—ï¼Œè¿™äº›æ—¥å¿—å¯ç”¨äºç³»ç»Ÿå®¡æ ¸å’Œé—®é¢˜çš„æ•…éšœæ’é™¤ã€‚ â€‹è®¸å¤šç³»ç»Ÿä»¥æ–‡æœ¬æ–‡ä»¶çš„å½¢å¼å­˜å‚¨æ—¥å¿—ï¼Œå®ƒä»¬ä¸€èˆ¬éƒ½è¢«ä¿å­˜åœ¨ &#x2F;var&#x2F;log ç›®å½•ä¸‹ã€‚RHEL å†…å»ºäº†ä¸€ä¸ªåŸºäº Syslog åè®®çš„æ ‡å‡†æ—¥å¿—è®°å½•ç³»ç»Ÿã€‚systemd-journald å’Œ rsyslog æœåŠ¡å¤„ç†çº¢å¸½ä¼ä¸š li">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-08-15T03:29:18.977Z">
<meta property="article:modified_time" content="2022-08-15T03:38:21.121Z">
<meta property="article:author" content="skinyi">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="RHEL">
<meta property="article:tag" content="RHCE">
<meta property="article:tag" content="è®¤è¯è€ƒè¯•">
<meta name="twitter:card" content="summary">

    
    <link rel="icon" href="images/favicon.png" type="image/x-icon">

    
<link rel="stylesheet" href="/css/common.min.css">



    
    
    
    
        <link href="//cdn.jsdelivr.net/npm/lightgallery.js@1.1.3/dist/css/lightgallery.min.css" rel="stylesheet">
    
    
    
<link rel="stylesheet" href="/css/iconfont.min.css">

    
<meta name="generator" content="Hexo 6.3.0"></head>

    <body>
        <header class="header header-fixture">
    <div class="profile-search-wrap flex sm:block">
        
        
        <div class="profile sm:text-center md:px-1 lg:px-3 sm:pb-4 sm:pt-6">
            <a id="avatar" role="link" href="https://github.com/skinyi" class="inline-block lg:w-16 lg:h-16 w-8 h-8 m-2" target="_blank" rel="noopener" rel="noreferrer" >
                <img src="/images/avatar.jpg" class="rounded-full" alt="avatar">
            </a>
            <h2 id="name" class="hidden lg:block">Avery Ma</h2>
            <h3 id="title" class="hidden xl:block">IT ä»ä¸šè€…</h3>
            
            <small id="location" class="hidden lg:block">
                <i class="iconfont icon-map-icon"></i>
                å®å¤, ä¸­å›½
            </small>
            
        </div>
        
        
<div class="search flex-1 flex lg:inline-block sm:hidden lg:px-4 lg:mt-2 lg:w-full">
    <form id="search-form" class="my-auto flex-1 lg:border lg:border-solid lg:border-gray-200">
        <div class="input-group table bg-gray-100 lg:bg-white w-full">
            <input id="search-input" type="text" placeholder="æœç´¢" class="inline-block w-full bg-gray-100 lg:bg-white">
            <span class="table-cell">
                <button name="search tigger button" disabled>
                    <i class="iconfont icon-search m-2"></i>
                </button>
            </span>
        </div>
    </form>
        
<div id="content-json" data-placeholder="æœç´¢" class="invisible hidden">/content.json</div>
<script id="search-teamplate" type="text/html" data-path="/content.json">
    <div>
        <div class="search-header bg-gray-400">
            <input id="actual-search-input" model="keyword" ref="input" class="inline-block w-full h-10 px-2 py-1" placeholder="æœç´¢" type="text">
        </div>
        <div class="search-result bg-gray-200">
            {{#each searchPosts}}
            <a href="/{{ path }}" class="result-item block px-2 pb-3 mb-1 pt-1 hover:bg-indigo-100">
                <i class="iconfont icon-file"></i>
                <h1 class="result-title inline font-medium text-lg">{{ title }}</h1>
                <p class="result-content text-gray-600 text-sm">{{{ text }}}</p>
            </a>
            {{/each}}
        </div>
    </div>
</script>

</div>


        <button name="menu toogle button" id="menu-toggle-btn" class="block sm:hidden p-3" role="button" aria-expanded="false">
            <i class="iconfont icon-hamburger"></i>
        </button>
    </div>
    <nav id="menu-nav" class="hidden sm:flex flex-col">
        
        
            <div class="menu-item menu-home" role="menuitem">
                <a href="/.">
                    <i class="iconfont icon-home" aria-hidden="true"></i>
                    <span class="menu-title">é¦–é¡µ</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-archives" role="menuitem">
                <a href="/archives">
                    <i class="iconfont icon-archive" aria-hidden="true"></i>
                    <span class="menu-title">å½’æ¡£</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-categories" role="menuitem">
                <a href="/categories">
                    <i class="iconfont icon-folder" aria-hidden="true"></i>
                    <span class="menu-title">åˆ†ç±»</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-tags" role="menuitem">
                <a href="/tags">
                    <i class="iconfont icon-tag" aria-hidden="true"></i>
                    <span class="menu-title">æ ‡ç­¾</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-repository" role="menuitem">
                <a href="/repository">
                    <i class="iconfont icon-project" aria-hidden="true"></i>
                    <span class="menu-title">é¡¹ç›®</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-about" role="menuitem">
                <a href="/about">
                    <i class="iconfont icon-cup" aria-hidden="true"></i>
                    <span class="menu-title">å…³äº</span>
                </a>
            </div>
        
        

    </nav>
</header>

        <section class="main-section">
            
    <main class="flex-1 px-4 py-14 md:px-5 lg:px-8 lg:py-4 relative min-h-screen">
    

    <article class="content article article-archives article-type-list" itemscope="">
        <header class="article-header">
            
    
        <h1 class="article-title text-lg" itemprop="name">
            åˆ†æå’Œå­˜å‚¨ç³»ç»Ÿæ—¥å¿—
        </h1>
    



            <p class="article-meta mb-3 text-xs">
                <span class="article-date">
    <i class="iconfont icon-calendar-check"></i>
	<a href="/2022-08-15-Linux%20%7C%20%E5%88%86%E6%9E%90%E5%92%8C%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97.html" class="article-date">
	  <time datetime="2022-08-15T03:29:18.977Z" itemprop="datePublished">8æœˆ 15</time>
	</a>
</span>

                
    <span class="article-category">
    <i class="iconfont icon-folder"></i>
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">å­¦ä¹ </a> , <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/Linux/">Linux</a> , <a class="article-category-link" href="/categories/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/">æ—¥å¸¸è®°å½•</a> , <a class="article-category-link" href="/categories/%E8%BF%81%E7%A7%BB%E6%96%87%E7%AB%A0/">è¿ç§»æ–‡ç« </a>
  </span>


                
    <span class="article-tags">
    <i class="iconfont icon-tag"></i>
    <a class="article-tag-none-link" href="/tags/Linux/" rel="tag">Linux</a>, <a class="article-tag-none-link" href="/tags/RHCE/" rel="tag">RHCE</a>, <a class="article-tag-none-link" href="/tags/RHEL/" rel="tag">RHEL</a>, <a class="article-tag-none-link" href="/tags/%E8%AE%A4%E8%AF%81%E8%80%83%E8%AF%95/" rel="tag">è®¤è¯è€ƒè¯•</a>
  </span>


                
                
    
        <span class="post-wordcount" itemprop="wordCount">å­—æ•°ç»Ÿè®¡: 3.4k(å­—)</span>
    
    
        <span class="post-readcount" itemprop="timeRequired">é˜…è¯»æ—¶é•¿: 14(åˆ†)</span>
    


            </p>
        </header>
        <div class="marked-body article-body">
            <blockquote>
<p>ğŸ”´ æ­¤æ–‡ç« ç”±ä¹‹å‰çš„ Typora ç¬”è®°è¿ç§»è¿‡æ¥ï¼Œå†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ã€‚</p>
</blockquote>
<h2 id="ç³»ç»Ÿæ—¥å¿—æ¦‚è¿°">ç³»ç»Ÿæ—¥å¿—æ¦‚è¿°</h2>
<p>â€‹è¿›ç¨‹å’Œæ“ä½œç³»ç»Ÿå†…æ ¸ä¼šä»¥å‘ç”Ÿçš„å…·ä½“äº‹ä»¶è®°å½•æ—¥å¿—ï¼Œè¿™äº›æ—¥å¿—å¯ç”¨äºç³»ç»Ÿå®¡æ ¸å’Œé—®é¢˜çš„æ•…éšœæ’é™¤ã€‚</p>
<p>â€‹è®¸å¤šç³»ç»Ÿä»¥æ–‡æœ¬æ–‡ä»¶çš„å½¢å¼å­˜å‚¨æ—¥å¿—ï¼Œå®ƒä»¬ä¸€èˆ¬éƒ½è¢«ä¿å­˜åœ¨ /var/log ç›®å½•ä¸‹ã€‚RHEL å†…å»ºäº†ä¸€ä¸ªåŸºäº Syslog åè®®çš„æ ‡å‡†æ—¥å¿—è®°å½•ç³»ç»Ÿã€‚systemd-journald å’Œ rsyslog æœåŠ¡å¤„ç†çº¢å¸½ä¼ä¸š linux 8 ä¸­çš„ syslog æ¶ˆæ¯ã€‚</p>
<ul>
<li>
<p>Systemd-journald æœåŠ¡æ˜¯æ“ä½œç³»ç»Ÿäº‹ä»¶æ—¥å¿—æ¶æ„çš„æ ¸å¿ƒã€‚å®ƒæ”¶é›†è®¸å¤šæ¥æºçš„äº‹ä»¶æ¶ˆæ¯ï¼ŒåŒ…æ‹¬å†…æ ¸ã€å¼•å¯¼è¿‡ç¨‹æ—©æœŸé˜¶æ®µçš„è¾“å‡ºã€å®ˆæŠ¤è¿›ç¨‹å¯åŠ¨å’Œè¿è¡Œæ—¶çš„æ ‡å‡†è¾“å‡ºåŠæ ‡å‡†é”™è¯¯ï¼Œä»¥åŠ syslog äº‹ä»¶ã€‚ç„¶åï¼Œä»–ä¼šå°†å®ƒä»¬é‡æ„ä¸ºä¸€ç§æ ‡å‡†æ ¼å¼ï¼Œå¹¶å†™è¿›å¸¦æœ‰ç´¢å¼•çš„ç»“æ„åŒ–ç³»ç»Ÿæ—¥ä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ—¥å¿—å­˜å‚¨åœ¨ç³»ç»Ÿé‡å¯åä¸ä¿ç•™çš„æ–‡ä»¶ç³»ç»Ÿä¸Šã€‚</p>
</li>
<li>
<p>Rsyslog æœåŠ¡å¯¹ syslog æ¶ˆæ¯è¿›è¡Œæ’åºï¼Œå¹¶å°†å®ƒä»¬å†™å…¥åˆ°åœ¨ç³»ç»Ÿé‡å¯åä¸ä¿ç•™çš„æ—¥å¿—æ–‡ä»¶ä¸­(/var/log)ã€‚rsyslog æœåŠ¡ä¼šæ ¹æ®å‘é€æ¯æ¡æ¶ˆæ¯çš„ç¨‹åºç±»å‹æˆ–è®¾å¤‡ä»¥åŠæ¯æ¡ syslog æ¶ˆæ¯çš„ä¼˜å…ˆçº§ï¼Œå°†æ—¥å¿—æ¶ˆæ¯æ’åºåˆ°ç‰¹å®šçš„æ—¥å¿—æ–‡ä»¶ã€‚</p>
</li>
</ul>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›é‡è¦çš„æ—¥å¿—æ–‡ä»¶ï¼š</p>
<table>
<thead>
<tr>
<th>æ—¥å¿—æ–‡ä»¶</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>/var/log/messages</td>
<td>åŒ…å«å…¨å±€ç³»ç»Ÿæ¶ˆæ¯ï¼ŒåŒ…æ‹¬ç³»ç»Ÿå¯åŠ¨æœŸé—´è®°å½•çš„æ¶ˆæ¯ã€‚è¯¥æ–‡ä»¶å­˜å‚¨é‚®ä»¶ã€ä½œä¸šè°ƒåº¦ã€ä»»åŠ¡è®¡åˆ’ã€å®ˆæŠ¤ç¨‹åºã€å†…æ ¸ã€æˆæƒã€è°ƒè¯•ç­‰æ¨¡å—çš„ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>/var/log/boot.log</td>
<td>åŒ…å«ä¸ç³»ç»Ÿå¯åŠ¨ç›¸å…³çš„é syslog æ§åˆ¶å°æ¶ˆæ¯ã€‚</td>
</tr>
<tr>
<td>/var/log/lastlog</td>
<td>æ˜¾ç¤ºæœ€è¿‘æ‰€æœ‰ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ã€‚åªèƒ½é€šè¿‡ lastlog å‘½ä»¤æ¥æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚</td>
</tr>
<tr>
<td>/var/log/maillog</td>
<td>åŒ…å«ç³»ç»Ÿä¸­è¿è¡Œçš„é‚®ä»¶æœåŠ¡å™¨çš„æ—¥å¿—ä¿¡æ¯ã€‚å¦‚ sendmail æ—¥å¿—åŒ…å«æ‰€æœ‰å·²å‘é€çš„é‚®ä»¶çš„ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>/var/log/btmp</td>
<td>åŒ…å«å¤±è´¥çš„å°è¯•ç™»é™†çš„ä¿¡æ¯ã€‚ä½¿ç”¨ <em>last</em> å‘½ä»¤æ¥é¢„è§ˆè¿™ä¸ªæ–‡ä»¶ã€‚å¦‚ï¼š`last -f /var/log/btmp</td>
</tr>
<tr>
<td>/var/log/cups</td>
<td>æ‰€æœ‰å’Œæ‰“å°æˆ–æ‰“å°ç›¸å…³çš„æ—¥å¿—æ¶ˆæ¯ã€‚</td>
</tr>
<tr>
<td>/var/log/dnf.rpm.log</td>
<td>è®°å½•å’Œè½¯ä»¶åŒ…å®‰è£…çš„ç›¸å…³æ—¥å¿—ã€‚</td>
</tr>
<tr>
<td>/var/log/secure</td>
<td>åŒ…å«è®¤è¯ä¸æˆæƒç›¸å…³çš„ä¿¡æ¯ã€‚sshd åœ¨æ­¤è®°å½•æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…å«å¤±è´¥çš„ç™»é™†ã€‚</td>
</tr>
<tr>
<td>/var/log/wtmp</td>
<td>æ‰€æœ‰ç™»é™†è®°å½•ã€‚ä½¿ç”¨ wtmp å¯ä»¥æŒ‡å‡ºè°ç™»é™†äº†ç³»ç»Ÿï¼Œä»¥åŠè°çœ‹äº†è¿™ä¸ªä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>/var/log/audit</td>
<td>åŒ…å« Linux æˆæƒå®ˆæŠ¤è¿›ç¨‹ï¼ˆauditdï¼‰å­˜å‚¨çš„ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>/var/log/samba</td>
<td>åŒ…å« samba æœåŠ¡çš„ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>/var/log/sssd</td>
<td>ç³»ç»Ÿå®‰å…¨æœåŠ¡å®ˆæŠ¤ç¨‹åºç”¨äºç®¡ç†è¿œç¨‹ç›®å½•å’Œèº«ä»½éªŒè¯æœºåˆ¶çš„è®¿é—®ã€‚</td>
</tr>
<tr>
<td>/var/log/cron</td>
<td>ä¸è°ƒåº¦ä½œä¸šæ‰§è¡Œç›¸å…³çš„æ¶ˆæ¯ã€‚</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ğŸŸ¢ æœ‰äº›åº”ç”¨ä¸ä½¿ç”¨ syslog ç®¡ç†ä»–ä»¬çš„æ—¥å¿—æ¶ˆæ¯ï¼Œä½†å®ƒä»¬ä»å°†å…¶æ—¥å¿—æ–‡ä»¶æ”¾åœ¨ /var/log çš„æŸä¸€å­ç›®å½•ä¸­ã€‚</p>
</blockquote>
<h2 id="æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶">æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶</h2>
<p>â€‹Syslogï¼Œå…¶è¿›ç¨‹åä¸º rsyslogï¼Œæ ¹æ®è®¾å¤‡æ—¥å¿—æ¶ˆæ¯çš„ä¸¥é‡ç¨‹åº¦å°†æ—¥å¿—åˆ†äº†å…«ä¸ªä¼˜å…ˆçº§ã€‚</p>
<table>
<thead>
<tr>
<th>ä»£ç </th>
<th>ä¼˜å…ˆçº§</th>
<th>ä¸¥é‡æ€§</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>emerg</td>
<td>ç³»ç»Ÿä¸å¯ç”¨</td>
</tr>
<tr>
<td>1</td>
<td>alert</td>
<td>å¿…é¡»ç«‹å³é‡‡å–æªæ–½</td>
</tr>
<tr>
<td>2</td>
<td>crit</td>
<td>ä¸´ç•Œæƒ…å†µ</td>
</tr>
<tr>
<td>3</td>
<td>err</td>
<td>éä¸¥é‡é”™è¯¯çŠ¶å†µ</td>
</tr>
<tr>
<td>4</td>
<td>warning</td>
<td>è­¦å‘Šæƒ…å†µ</td>
</tr>
<tr>
<td>5</td>
<td>notice</td>
<td>æ­£å¸¸ä½†é‡è¦çš„äº‹ä»¶</td>
</tr>
<tr>
<td>6</td>
<td>info</td>
<td>ä¿¡æ¯æ€§äº‹ä»¶</td>
</tr>
<tr>
<td>7</td>
<td>debug</td>
<td>è°ƒè¯•çº§åˆ«æ¶ˆæ¯</td>
</tr>
</tbody>
</table>
<p>â€‹Rsyslog æœåŠ¡ä½¿ç”¨æ—¥å¿—æ¶ˆæ¯çš„è®¾å¤‡å’Œä¼˜å…ˆçº§æ¥ç¡®å®šå¦‚ä½•è¿›è¡Œå¤„ç†ã€‚å…¶é…ç½®è§„åˆ™ä½äº /etc/rsyslog.conf æ–‡ä»¶å’Œ /etc/rsyslog.d ç›®å½•ä¸­æ‹“å±•åä¸º .conf çš„ä»»ä½•æ–‡ä»¶ã€‚é€šè¿‡åœ¨ /etc/rsyslog.d ç›®å½•ä¸­æ·»åŠ é€‚å½“çš„æ–‡ä»¶ï¼ŒæŸåº”ç”¨çš„è½¯ä»¶åŒ…å¯ä»¥è½»æ¾çš„æ·»åŠ å±äºè‡ªå·±çš„æ—¥å¿—è¾“å‡ºè§„åˆ™ã€‚</p>
<p>â€‹æ¯ä¸ªæ§åˆ¶ç€ syslog æ¶ˆæ¯æ’åºæ–¹å¼çš„è§„åˆ™éƒ½å¯¹åº”äº†å…¶ä¸­ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­çš„ä¸€è¡Œã€‚å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Log anything (except mail) of level info or higher.</span></span><br><span class="line"><span class="comment"># Don&#x27;t log private authentication messages!</span></span><br><span class="line">*.info;mail.none;authpriv.none;cron.none                /var/log/messages</span><br></pre></td></tr></table></figure>
<p>â€‹å…¶ä¸­ï¼Œæ¯è¡Œå·¦ä¾§è¡¨ç¤ºä¸è§„åˆ™åŒ¹é…çš„ syslog æ¶ˆæ¯çš„è®¾å¤‡å’Œä¸¥é‡æ€§ã€‚æ¯è¡Œå³ä¾§è¡¨ç¤ºè¦å°†æ—¥å¿—æ¶ˆæ¯ä¿å­˜åˆ°çš„æ–‡ä»¶ï¼ˆæˆ–æ¶ˆæ¯æ‰€è¦å‘é€åˆ°çš„å…¶ä»–ä½ç½®ï¼‰ã€‚æ˜Ÿå·(*)æ˜¯ä¸€ä¸ªåŒ¹é…æ‰€æœ‰å€¼çš„é€šé…ç¬¦ã€‚</p>
<blockquote>
<p>ğŸŸ¢ ä½¿ç”¨ <code>logger</code> å‘½ä»¤å¯ä»¥æ‰‹åŠ¨å¾€ç³»ç»Ÿæ—¥å¿—ä¸­æ·»åŠ ä¿¡æ¯ï¼Œä½¿ç”¨æ–¹æ³•è¯¦è§ man page: logger(1)ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]\<span class="comment"># logger -p user.info &quot;Test User Log&quot; # -p é€‰é¡¹æŒ‡å®šä¼˜å…ˆçº§</span></span><br><span class="line">[root@localhost ~]\<span class="comment"># tail -n 1 -f /var/log/messages</span></span><br><span class="line">Aug 23 21:22:22 localhost root[3276]: Test User Log</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—æ¡ç›®">æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—æ¡ç›®</h2>
<p>â€‹Systemd-journal æœåŠ¡å°†æ—¥å¿—æ•°æ®å­˜å‚¨åœ¨å¸¦æœ‰ç´¢å¼•çš„ç»“æ„åŒ–äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶ç§°ä¸ºæ—¥å¿—ã€‚æ­¤æ•°æ®åŒ…å«ä¸æ—¥å¿—äº‹ä»¶ç›¸å…³çš„é¢å¤–ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¯¹äº syslog äº‹ä»¶ï¼Œè¿™å¯åŒ…å«åŸå§‹æ¶ˆæ¯çš„è®¾å¤‡å’Œä¼˜å…ˆçº§ã€‚</p>
<blockquote>
<p>ğŸŸ¢ ç³»ç»Ÿè¿è¡Œæ—¥å¿—é»˜è®¤å­˜å‚¨åœ¨ /run/log ç›®å½•ä¸‹ï¼Œè¯¥ç›®å½•ä¸‹çš„å†…å®¹ä¼šåœ¨ç³»ç»Ÿé‡å¯åæ¸…é™¤ã€‚</p>
</blockquote>
<p>â€‹è‹¥è¦ä»ç³»ç»Ÿè¿è¡Œæ—¥å¿—ä¸­æ£€ç´¢æ—¥å¿—æ¶ˆæ¯ï¼Œå¯ä½¿ç”¨ journalctl å‘½ä»¤ã€‚å¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤æ¥æŸ¥çœ‹æ—¥å¿—ä¸­çš„æ‰€æœ‰æ¶ˆæ¯ï¼Œæˆ–æ ¹æ®å„ç§é€‰é¡¹å’Œæ ‡å‡†æ¥æœç´¢ç‰¹å®šäº‹ä»¶ã€‚å¦‚æœä»¥ root èº«ä»½è¿è¡Œè¯¥å‘½ä»¤ï¼Œåˆ™å¯¹æ—¥å¿—å…·æœ‰å®Œå…¨è®¿é—®æƒé™ã€‚æ™®é€šç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤ï¼Œä½†å¯èƒ½ä¼šè¢«é™åˆ¶æŸ¥çœ‹æŸäº›æ¶ˆæ¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">journalctl [OPTIONS...] [MATCHES] <span class="comment"># æŸ¥è¯¢ systemd æ—¥å¿—</span></span><br><span class="line"><span class="comment"># ä¾‹å­</span></span><br><span class="line">root@localhost ~]\<span class="comment"># journalctl    # ä¸å¸¦å‚æ•°é»˜è®¤è¾“å‡º system.journal çš„æ‰€æœ‰å†…å®¹</span></span><br><span class="line">-- Logs begin at Mon 2021-08-23 21:08:56 PDT, end at Mon 2021-08-23 21:38:22 PDT. --</span><br><span class="line">Aug 23 21:08:56 localhost.localdomain kernel: Linux version 4.18.0-240.el8.x86_64 (mockbuild@x86-vm-09.build.eng.bos.redhat.com) (gcc version 8.3.1 20191121&gt;</span><br><span class="line">Aug 23 21:08:56 localhost.localdomain kernel: Command line: BOOT_IMAGE=(hd0,msdos1)/vmlinuz-4.18.0-240.el8.x86_64 root=UUID=360e2f42-d6de-4209-8487-f36b7cc6&gt;</span><br><span class="line">Aug 23 21:08:56 localhost.localdomain kernel: Disabled fast string operations</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<p>â€‹<code>journalctl</code> å‘½ä»¤çªå‡ºæ˜¾ç¤ºé‡è¦çš„æ—¥å¿—æ¶ˆæ¯ï¼šä¼˜å…ˆçº§ä¸º notice æˆ– warning çš„æ¶ˆæ¯æ˜¾ç¤ºä¸ºç²—ä½“æ–‡æœ¬ï¼Œè€Œä¼˜å…ˆçº§ä¸º error æˆ–ä»¥ä¸Šçš„æ¶ˆæ¯åˆ™æ˜¾ç¤ºä¸ºçº¢è‰²æ–‡æœ¬ã€‚</p>
<p>â€‹æˆåŠŸåˆ©ç”¨æ—¥å¿—è¿›è¡Œæ•…éšœæ’é™¤å’Œå®¡æ ¸çš„å…³é”®åœ¨äºï¼Œå°†æ—¥å¿—æœç´¢é™åˆ¶ä¸ºä»…æ˜¾ç¤ºç›¸å…³çš„è¾“å‡ºã€‚</p>
<p>â€‹é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>journalctl -n</code> æ˜¾ç¤ºæœ€å 10 ä¸ªæ¡ç›®ï¼Œå¯åœ¨å‚æ•°åé¢æŒ‡å®šå…·ä½“æ˜¾ç¤ºçš„æ¡æ•°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]\<span class="comment"># journalctl -n 3</span></span><br><span class="line">-- Logs begin at Mon 2021-08-23 21:08:56 PDT, end at Mon 2021-08-23 21:40:06 PDT. --</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain systemd-logind[1137]: New session 8 of user root.</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain sshd[3450]: pam_unix(sshd:session): session opened <span class="keyword">for</span> user root by (uid=0)</span><br><span class="line">Aug 23 21:40:06 localhost.localdomain chronyd[1070]: Source 2602:fcad:1::10 replaced with 124.108.20.1</span><br></pre></td></tr></table></figure>
<p>â€‹ç±»ä¼¼ <code>tail -f</code>ï¼Œ<code>journalctl -f</code> ä¹Ÿå¯ä»¥å®ç°æ—¥å¿—å†…å®¹çš„å®æ—¶æ›´æ–°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]\<span class="comment"># journalctl -f</span></span><br><span class="line">-- Logs begin at Mon 2021-08-23 21:08:56 PDT. --</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain sshd[3441]: Accepted password <span class="keyword">for</span> root from 172.16.1.195 port 6922 ssh2</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain systemd-logind[1137]: New session 7 of user root.</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain systemd[1]: Started Session 7 of user root.</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain sshd[3441]: pam_unix(sshd:session): session opened <span class="keyword">for</span> user root by (uid=0)</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain sshd[3450]: Accepted password <span class="keyword">for</span> root from 172.16.1.195 port 6925 ssh2</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain systemd[1]: Started Session 8 of user root.</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain systemd-logind[1137]: New session 8 of user root.</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain sshd[3450]: pam_unix(sshd:session): session opened <span class="keyword">for</span> user root by (uid=0)</span><br><span class="line">Aug 23 21:40:06 localhost.localdomain chronyd[1070]: Source 2602:fcad:1::10 replaced with 124.108.20.1</span><br><span class="line">Aug 23 21:48:56 localhost.localdomain PackageKit[2105]: search-file transaction /131_bcadadca from uid 0 finished with success after 27ms</span><br></pre></td></tr></table></figure>
<p>â€‹ä½¿ç”¨ <em>-p</em> é€‰é¡¹å¯ä»¥æ ¹æ®æ—¥å¿—çš„ä¼˜å…ˆçº§è¿‡æ»¤æ—¥å¿—è¾“å‡ºï¼Œå…¶ä¸­å‚æ•°å¯æŒ‡å®šä¼˜å…ˆçº§çš„åç§°æˆ–ç¼–å·ï¼Œ<code>journalctl -p</code> å‘½ä»¤ä¼šæ˜¾ç¤º<em>è¯¥ä¼˜å…ˆçº§åŠä»¥ä¸Š</em>çš„æ—¥å¿—è¾“å‡ºã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]\<span class="comment"># journalctl -p err</span></span><br><span class="line">-- Logs begin at Mon 2021-08-23 21:08:56 PDT, end at Mon 2021-08-23 21:48:56 PDT. --</span><br><span class="line">Aug 23 21:09:14 localhost.localdomain kernel: piix4_smbus 0000:00:07.3: SMBus Host Controller not enabled!</span><br></pre></td></tr></table></figure>
<p>â€‹åœ¨æŸ¥æ‰¾å…·ä½“äº‹ä»¶æ—¶ï¼Œå¯ä»¥å°†è¾“å‡ºé™åˆ¶ä¸ºæŸä¸€ç‰¹å®šçš„æ—¶é—´æ®µã€‚<code>--since</code> å’Œ <code>--until</code> é€‰é¡¹ï¼Œå®ƒä»¬å¯ä»¥å°†è¾“å‡ºé™åˆ¶ä¸ºç‰¹å®šçš„æ—¶é—´èŒƒå›´ã€‚å…¶å‚æ•°çš„å…·ä½“æ ¼å¼é™åˆ¶ä¸º <em>YYYY-MM-DDhh:mm:ss</em>ï¼Œé™¤äº†è¿™ä¸¤ä¸ªé€‰é¡¹ï¼Œå…¶è¿˜æ¥å— <em>yesterday</em>ã€<em>today</em> å’Œ <em>tomorrow</em> ä½œä¸ºæœ‰æ•ˆå‚æ•°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]\<span class="comment"># journalctl --since &quot;2021-08-23 22:00:00&quot; --until &quot;2021-08-23 22:05:00&quot;</span></span><br><span class="line">-- Logs begin at Mon 2021-08-23 21:08:56 PDT, end at Tue 2021-08-24 01:22:49 PDT. --</span><br><span class="line">Aug 23 22:01:01 localhost.localdomain CROND[3760]: (root) CMD (run-parts /etc/cron.hourly)</span><br><span class="line">Aug 23 22:01:01 localhost.localdomain run-parts[3763]: (/etc/cron.hourly) starting 0anacron</span><br><span class="line">Aug 23 22:01:01 localhost.localdomain anacron[3769]: Anacron started on 2021-08-23</span><br><span class="line">Aug 23 22:01:01 localhost.localdomain run-parts[3771]: (/etc/cron.hourly) finished 0anacron</span><br><span class="line">Aug 23 22:01:01 localhost.localdomain anacron[3769]: Normal <span class="built_in">exit</span> (0 <span class="built_in">jobs</span> run)</span><br></pre></td></tr></table></figure>
<p>â€‹ä¹Ÿå¯ä»¥æŒ‡å®šç›¸å¯¹äºå½“å‰çš„æŸä¸ªæ—¶é—´ä»¥åçš„æ‰€æœ‰æ¡ç›®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># journalctl --since &quot;-1.1 hour&quot;</span></span><br><span class="line">-- Logs begin at Mon 2021-08-23 21:08:56 PDT, end at Tue 2021-08-24 01:22:49 PDT. --</span><br><span class="line">Aug 24 01:01:01 localhost.localdomain CROND[5331]: (root) CMD (run-parts /etc/cron.hourly)</span><br><span class="line">Aug 24 01:01:01 localhost.localdomain run-parts[5334]: (/etc/cron.hourly) starting 0anacron</span><br><span class="line">Aug 24 01:01:01 localhost.localdomain run-parts[5342]: (/etc/cron.hourly) finished 0anacron</span><br><span class="line">Aug 24 01:01:01 localhost.localdomain anacron[5340]: Anacron started on 2021-08-24</span><br><span class="line">Aug 24 01:01:01 localhost.localdomain anacron[5340]: Normal <span class="built_in">exit</span> (0 <span class="built_in">jobs</span> run)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸŸ¢ --since å’Œ --until æ”¯æŒçš„æ›´å¤æ‚çš„æ—¶é—´æ ¼å¼å¯å‚è§ systemd.time(7) man pageã€‚</p>
</blockquote>
<p>â€‹å¯ä»¥ä½¿ç”¨ <code>journalctl -o</code> å‘½ä»¤ä»¥ç‰¹å®šçš„æ¨¡å¼ï¼ˆverbose/export/json ç­‰ï¼‰è¾“å‡ºã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]\<span class="comment"># journalctl -o verbose</span></span><br><span class="line">-- Logs begin at Mon 2021-08-23 21:08:56 PDT, end at Tue 2021-08-24 &gt;</span><br><span class="line">Mon 2021-08-23 21:08:56.476108 PDT [s=ac8c7a315ec04e1c98b39f3eba4fe1&gt;</span><br><span class="line">    _SOURCE_MONOTONIC_TIMESTAMP=0</span><br><span class="line">    _TRANSPORT=kernel</span><br><span class="line">    PRIORITY=5</span><br></pre></td></tr></table></figure>
<p>â€‹ä¸€äº›ç‰¹å®šçš„ç³»ç»Ÿæ—¥å¿—ç­›é€‰å¸¸ç”¨å­—æ®µï¼Œå¯ç”¨äºæœç´¢ä¸ç‰¹å®šè¿›ç¨‹æˆ–äº‹ä»¶ç›¸å…³çš„è¡Œã€‚</p>
<table>
<thead>
<tr>
<th>ç­›é€‰é€‰é¡¹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>_COMM</td>
<td>æŒ‡å®šå‘½ä»¤çš„åç§°</td>
</tr>
<tr>
<td>_EXE</td>
<td>æŒ‡å®šè¿›ç¨‹çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>_PID</td>
<td>æŒ‡å®šè¿›ç¨‹çš„ PID</td>
</tr>
<tr>
<td>_UID</td>
<td>æŒ‡å®šè¿è¡Œè¯¥è¿›ç¨‹çš„ç”¨æˆ·çš„ UID</td>
</tr>
<tr>
<td>_SYSTEMD_UNIT</td>
<td>æŒ‡å®šå¯åŠ¨è¯¥è¿›ç¨‹çš„ systemd å•å…ƒ</td>
</tr>
</tbody>
</table>
<p>â€‹ä¹Ÿå¯ä»¥ç»„åˆå¤šä¸ªç³»ç»Ÿæ—¥å¿—å­—æ®µä»¥å®ç°æ›´åŠ ç²¾ç»†çš„æœç´¢æŸ¥è¯¢ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]\<span class="comment"># journalctl -n 3 _SYSTEMD_UNIT=sshd.service _UID=0 # ä¸æ“ä½œ</span></span><br><span class="line">-- Logs begin at Mon 2021-08-23 21:08:56 PDT, end at Tue 2021-08-24 02:03:19 PDT. --</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain sshd[3441]: pam_unix(sshd:session): session opened <span class="keyword">for</span> user root by (uid=0)</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain sshd[3450]: Accepted password <span class="keyword">for</span> root from 172.16.1.195 port 6925 ssh2</span><br><span class="line">Aug 23 21:38:22 localhost.localdomain sshd[3450]: pam_unix(sshd:session): session opened <span class="keyword">for</span> user root by (uid=0)</span><br><span class="line">[root@localhost ~]\<span class="comment"># journalctl _COMM=sshd + _PID=1247 # æˆ–æ“ä½œ</span></span><br><span class="line">-- Logs begin at Mon 2021-08-23 21:08:56 PDT, end at Tue 2021-08-24 02:03:19 PDT. --</span><br><span class="line">Aug 23 21:09:31 localhost.localdomain sshd[1251]: Server listening on 0.0.0.0 port 22.</span><br><span class="line">Aug 23 21:09:31 localhost.localdomain sshd[1251]: Server listening on :: port 22.</span><br><span class="line">Aug 23 21:11:38 localhost.localdomain cupsd[1247]: REQUEST localhost - - <span class="string">&quot;POST / HTTP/1.1&quot;</span> 200 363 Create-Printer-Subscriptions successful-ok</span><br></pre></td></tr></table></figure>
<h2 id="ä¿ç•™ç³»ç»Ÿæ—¥å¿—">ä¿ç•™ç³»ç»Ÿæ—¥å¿—</h2>
<p>â€‹é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿæ—¥å¿—ä¿å­˜åœ¨ /run/log/journal ç›®å½•ä¸­ï¼Œè¿™æ„å‘³ç€ç³»ç»Ÿé‡å¯æ—¶è¿™äº›æ—¥å¿—ä¼šè¢«æ¸…é™¤ã€‚å¯ä»¥åœ¨ /etc/systemd/journald.conf æ–‡ä»¶ä¸­æ›´æ”¹ systemd-journald æœåŠ¡çš„é…ç½®è®¾ç½®ï¼Œä½¿æ—¥å¿—åœ¨ç³»ç»Ÿé‡å¯åä¿ç•™ä¸‹æ¥ã€‚</p>
<p>â€‹/etc/systemd/journald.conf æ–‡ä»¶ä¸­çš„ <b>Storage</b> å‚æ•°å†³å®šç³»ç»Ÿæ—¥å¿—ä»¥æ˜“å¤±æ€§æ–¹å¼å­˜å‚¨ï¼Œè¿˜æ˜¯åœ¨ç³»ç»Ÿé‡å¯åæŒä¹…ä¿ç•™ï¼Œè¯¥å‚æ•°çš„å¯é€‰å€¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<table>
<thead>
<tr>
<th>å€¼</th>
<th>æ—¥å¿—å­˜å‚¨ä½ç½®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>persistent</td>
<td>/var/log/journal</td>
<td>æŒä¹…ä¿ç•™ï¼Œè‹¥è¯¥ç›®å½•ä¸å­˜åœ¨ï¼Œsystemd-journald æœåŠ¡ä¼šè‡ªåŠ¨åˆ›å»ºã€‚</td>
</tr>
<tr>
<td>volatile</td>
<td>/run/log/journal</td>
<td>å­˜æ”¾åœ¨å†…å­˜æ–‡ä»¶ç³»ç»Ÿï¼Œ/run ç›®å½•ä¸‹çš„å†…å®¹é‡å¯åä¸¢å¤±ã€‚</td>
</tr>
<tr>
<td>autoï¼ˆé»˜è®¤ï¼‰</td>
<td>ä»¥ä¸Šä¸¤è€…ä»»ä¸€</td>
<td>é»˜è®¤ /run/log/journalï¼Œä½†è‹¥ /var/log/journal ç›®å½•å­˜åœ¨ï¼Œåˆ™å­˜æ”¾åœ¨è¯¥ç›®å½•ä¸‹ã€‚</td>
</tr>
</tbody>
</table>
<blockquote>
<ol>
<li>æŒä¹…ç³»ç»Ÿæ—¥å¿—çš„ä¼˜ç‚¹æ˜¯ç³»ç»Ÿå¯åŠ¨åå°±å¯ç«‹å³åˆ©ç”¨å†å²æ•°æ®ã€‚</li>
<li>å³ä¾¿æ˜¯æŒä¹…æ—¥å¿—ï¼Œå¹¶éæ‰€æœ‰æ•°æ®éƒ½å°†æ°¸ä¹…ä¿ç•™ï¼Œæ­¤æ—¥å¿—é¡¹å…·æœ‰ä¸€ä¸ªå†…ç½®çš„æ—¥å¿—è½®è½¬æœºåˆ¶ä¼šæ¯æœˆè§¦å‘ã€‚</li>
<li>ä¿®æ”¹æ—¥å¿—å­˜å‚¨é…ç½®æ–‡ä»¶éœ€è¦é‡æ–°è½½å…¥è¯¥æœåŠ¡ï¼Œç›¸å…³å†…å®¹å¯å‚è§ <em>13. æ§åˆ¶æœåŠ¡å’Œå®ˆæŠ¤è¿›ç¨‹</em> ç« èŠ‚ã€‚</li>
</ol>
</blockquote>
<p>â€‹é»˜è®¤æƒ…å†µä¸‹ï¼Œæ—¥å¿—çš„å¤§å°ä¸èƒ½è¶…è¿‡æ‰€å¤„æ–‡ä»¶ç³»ç»Ÿçš„ 10%ï¼Œä¹Ÿä¸èƒ½é€ æˆæ–‡ä»¶ç³»ç»Ÿçš„å¯ç”¨ç©ºé—´ä½äº 15%ï¼Œå¯ä»¥åœ¨ <em>/etc/systemd/journald.conf</em> ä¸­ä¸ºè¿è¡Œæ—¶å’ŒæŒä¹…æ—¥å¿—è°ƒæ•´è¿™äº›å€¼ã€‚å½“ systemd-journald è¿›ç¨‹å¯åŠ¨æ—¶ï¼Œä¼šè®°å½•å½“å‰çš„æ—¥å¿—å¤§å°é™é¢ã€‚</p>
<p>â€‹ä»¥ä¸‹å‘½ä»¤è¾“å‡ºæ˜¾ç¤ºäº†åæ˜ å½“å‰å¤§å°é™é¢çš„æ—¥å¿—æ¡ç›®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]\<span class="comment"># journalctl | grep -E &#x27;Runtime|System journal&#x27;</span></span><br><span class="line">Aug 24 17:47:16 localhost.localdomain systemd-journald[304]: Runtime journal (/run/log/journal/6651ee1da4824a37975cd5245c8cb076) is 8.0M, max 185.4M, 177.4M free.</span><br><span class="line">Aug 24 17:47:29 localhost.localdomain systemd-journald[694]: Runtime journal (/run/log/journal/6651ee1da4824a37975cd5245c8cb076) is 8.0M, max 185.4M, 177.4M free.</span><br><span class="line">Aug 24 17:47:29 localhost.localdomain systemd-journald[694]: Runtime journal (/run/log/journal/6651ee1da4824a37975cd5245c8cb076) is 8.0M, max 185.4M, 177.4M free.</span><br><span class="line">Aug 24 17:47:36 localhost.localdomain systemd[1]: Starting Tell Plymouth To Write Out Runtime Data...</span><br><span class="line">Aug 24 17:47:36 localhost.localdomain systemd[1]: Started Tell Plymouth To Write Out Runtime Data.</span><br></pre></td></tr></table></figure>
<p>â€‹ä½¿ç”¨æŒä¹…å­˜å‚¨çš„ systemd-journald æœåŠ¡ä¼šå­˜å‚¨ç³»ç»Ÿä¸€æ¬¡æˆ–å¤šæ¬¡å¯åŠ¨åçš„æ—¥å¿—ï¼Œè‹¥è¦æ ¹æ®ç³»ç»Ÿçš„æ¯æ¬¡å¯åŠ¨ç­›é€‰æ—¥å¿—åˆ™å¯ä»¥ä½¿ç”¨é€‰é¡¹ <code>-b</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]\<span class="comment"># journalctl -b 1    # æ£€ç´¢æ—¥å¿—å­˜å‚¨çš„ç¬¬ä¸€æ¬¡å¯åŠ¨çš„æ¡ç›®</span></span><br><span class="line">[root@localhost ~]\<span class="comment"># journalctl -b      # æ£€ç´¢å½“å‰ç³»ç»Ÿå¯åŠ¨å¯åŠ¨åçš„æ¡ç›®</span></span><br><span class="line">[root@localhost ~]\<span class="comment"># journalctl -b -1   # è¿‡å»ä¸€æ¬¡çš„ç³»ç»Ÿå¯åŠ¨æ—¶çš„tiao</span></span><br></pre></td></tr></table></figure>

        </div>
        
<blockquote class="copyright">
    <p><strong>æœ¬æ–‡é“¾æ¥ : </strong><a class="permalink" href="https://skinyi.github.io/2022-08-15-Linux%20|%20%E5%88%86%E6%9E%90%E5%92%8C%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97.html">https://skinyi.github.io/2022-08-15-Linux | åˆ†æå’Œå­˜å‚¨ç³»ç»Ÿæ—¥å¿—.html</a></p>
    <p><strong>è¿™ç¯‡æ–‡ç« ç”±ä½œè€…èƒ¡ç¼–ä¹±é€ æˆ–è€…ç”±å…¶ä»–æ–‡ç« å¤åˆ¶ç²˜è´´è€Œæ¥ï¼Œå…¶ä¸­æœ‰äº›å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ï¼Œè¯·è°¨æ…å‚è€ƒå¤åˆ¶æ–‡ç« ä¸­çš„å†…å®¹ã€‚</strong></p>
</blockquote>


    </article>
    
    <section id="comments">
        
    </section>


    

</main>


<aside style="" id="sidebar" class="aside aside-fixture">
    <div class="toc-sidebar">
        <nav id="toc" class="article-toc">
            <h3 class="toc-title">æ–‡ç« ç›®å½•</h3>
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">ç³»ç»Ÿæ—¥å¿—æ¦‚è¿°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6"><span class="toc-number">2.</span> <span class="toc-text">æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97%E6%9D%A1%E7%9B%AE"><span class="toc-number">3.</span> <span class="toc-text">æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—æ¡ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%9D%E7%95%99%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97"><span class="toc-number">4.</span> <span class="toc-text">ä¿ç•™ç³»ç»Ÿæ—¥å¿—</span></a></li></ol>
        </nav>
    </div>
</aside>





        </section>
        <footer class="hidden lg:block fixed bottom-0 left-0 sm:w-1/12 bg-gray-100 z-40">
    
    
        <p class="footer-custom">â¤ Powered by <a href="https://hexo.io/" target="_blank" rel="noopener noreferrer">Hexo</a> with <a href="https://github.com/fengkx/hexo-theme-purer" target="_blank" rel="noopener noreferrer">Purer theme</a>.</p>
    
</footer>

        <div id="mask" class="hidden mask fixed inset-0 bg-gray-900 opacity-75 z-40"></div>
        <div id="search-view-container" class="hidden shadow-xl"></div>
        
<script src="/js/dom-event.min.js"></script>



<script src="/js/local-search.min.js"></script>



    <script src="//cdn.jsdelivr.net/npm/lightgallery.js@1.1.3/dist/js/lightgallery.min.js"></script>
    
<script src="/js/light-gallery.min.js"></script>






    </body>
</html>
