<!DOCTYPE html>
<html  lang="zh-CN,en,default" >
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    <title>é‡å­¦ Shell ç¼–ç¨‹ä¹‹åŸºç¡€å›é¡¾ï¼ˆä¸€ï¼‰ | Avery Ma çš„ä¸ªäººç½‘ç«™</title>
    <meta name="description" content="Shebang Shebang æ˜¯æŒ‡å‡ºç°åœ¨ Shell è„šæœ¬æ–‡ä»¶ç¬¬ä¸€è¡Œä¸­çš„å‰ä¸¤ä¸ªå­—ç¬¦ #!ï¼Œç”¨ä»¥æŒ‡å®šå‘½ä»¤è§£é‡Šå™¨ï¼Œä¾‹å¦‚ï¼š  #!&#x2F;bin&#x2F;sh ä¼šä½¿ç”¨ &#x2F;bin&#x2F;shï¼Œå³ bash(sh æ˜¯ bash çš„ä¸€ä¸ªè½¯è¿æ¥)è§£é‡Šå™¨æ‰§è¡Œè„šæœ¬å†…å®¹ï¼› #!&#x2F;usr&#x2F;bin&#x2F;python ä¼šä½¿ç”¨ python è§£é‡Šå™¨å»æ‰§è¡Œè„šæœ¬å†…å®¹ï¼› #!&#x2F;usr&#x2F;bin&#x2F;env NAMEï¼Œæ˜¯ä¸€ç§åœ¨ä¸åŒå¹³å°ä¸Šéƒ½èƒ½æ‰¾åˆ° NAME è§£é‡Š">
<meta property="og:type" content="article">
<meta property="og:title" content="é‡å­¦ Shell ç¼–ç¨‹ä¹‹åŸºç¡€å›é¡¾ï¼ˆä¸€ï¼‰">
<meta property="og:url" content="https://skinyi.github.io/2022-03-29-Shell%20|%20%E9%87%8D%E5%AD%A6%20Shell%20%E7%BC%96%E7%A8%8B%E4%B9%8B%E5%9F%BA%E7%A1%80%E5%9B%9E%E9%A1%BE%EF%BC%88%E4%B8%80%EF%BC%89.html">
<meta property="og:site_name" content="Avery Ma çš„ä¸ªäººç½‘ç«™">
<meta property="og:description" content="Shebang Shebang æ˜¯æŒ‡å‡ºç°åœ¨ Shell è„šæœ¬æ–‡ä»¶ç¬¬ä¸€è¡Œä¸­çš„å‰ä¸¤ä¸ªå­—ç¬¦ #!ï¼Œç”¨ä»¥æŒ‡å®šå‘½ä»¤è§£é‡Šå™¨ï¼Œä¾‹å¦‚ï¼š  #!&#x2F;bin&#x2F;sh ä¼šä½¿ç”¨ &#x2F;bin&#x2F;shï¼Œå³ bash(sh æ˜¯ bash çš„ä¸€ä¸ªè½¯è¿æ¥)è§£é‡Šå™¨æ‰§è¡Œè„šæœ¬å†…å®¹ï¼› #!&#x2F;usr&#x2F;bin&#x2F;python ä¼šä½¿ç”¨ python è§£é‡Šå™¨å»æ‰§è¡Œè„šæœ¬å†…å®¹ï¼› #!&#x2F;usr&#x2F;bin&#x2F;env NAMEï¼Œæ˜¯ä¸€ç§åœ¨ä¸åŒå¹³å°ä¸Šéƒ½èƒ½æ‰¾åˆ° NAME è§£é‡Š">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-03-29T01:39:48.733Z">
<meta property="article:modified_time" content="2022-04-22T05:51:31.666Z">
<meta property="article:author" content="skinyi">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Shell">
<meta property="article:tag" content="Bash">
<meta property="article:tag" content="è„šæœ¬ç¼–ç¨‹">
<meta name="twitter:card" content="summary">

    
    <link rel="icon" href="images/favicon.png" type="image/x-icon">

    
<link rel="stylesheet" href="/css/common.min.css">



    
    
    
    
        <link href="//cdn.jsdelivr.net/npm/lightgallery.js@1.1.3/dist/css/lightgallery.min.css" rel="stylesheet">
    
    
    
<link rel="stylesheet" href="/css/iconfont.min.css">

    
<meta name="generator" content="Hexo 6.2.0"></head>

    <body>
        <header class="header header-fixture">
    <div class="profile-search-wrap flex sm:block">
        
        
        <div class="profile sm:text-center md:px-1 lg:px-3 sm:pb-4 sm:pt-6">
            <a id="avatar" role="link" href="https://github.com/skinyi" class="inline-block lg:w-16 lg:h-16 w-8 h-8 m-2" target="_blank" rel="noopener" rel="noreferrer" >
                <img src="/images/avatar.jpg" class="rounded-full" alt="avatar">
            </a>
            <h2 id="name" class="hidden lg:block">Avery Ma</h2>
            <h3 id="title" class="hidden xl:block">IT ä»ä¸šè€…</h3>
            
            <small id="location" class="hidden lg:block">
                <i class="iconfont icon-map-icon"></i>
                å®å¤, ä¸­å›½
            </small>
            
        </div>
        
        
<div class="search flex-1 flex lg:inline-block sm:hidden lg:px-4 lg:mt-2 lg:w-full">
    <form id="search-form" class="my-auto flex-1 lg:border lg:border-solid lg:border-gray-200">
        <div class="input-group table bg-gray-100 lg:bg-white w-full">
            <input id="search-input" type="text" placeholder="æœç´¢" class="inline-block w-full bg-gray-100 lg:bg-white">
            <span class="table-cell">
                <button name="search tigger button" disabled>
                    <i class="iconfont icon-search m-2"></i>
                </button>
            </span>
        </div>
    </form>
        
<div id="content-json" data-placeholder="æœç´¢" class="invisible hidden">/content.json</div>
<script id="search-teamplate" type="text/html" data-path="/content.json">
    <div>
        <div class="search-header bg-gray-400">
            <input id="actual-search-input" model="keyword" ref="input" class="inline-block w-full h-10 px-2 py-1" placeholder="æœç´¢" type="text">
        </div>
        <div class="search-result bg-gray-200">
            {{#each searchPosts}}
            <a href="/{{ path }}" class="result-item block px-2 pb-3 mb-1 pt-1 hover:bg-indigo-100">
                <i class="iconfont icon-file"></i>
                <h1 class="result-title inline font-medium text-lg">{{ title }}</h1>
                <p class="result-content text-gray-600 text-sm">{{{ text }}}</p>
            </a>
            {{/each}}
        </div>
    </div>
</script>

</div>


        <button name="menu toogle button" id="menu-toggle-btn" class="block sm:hidden p-3" role="button" aria-expanded="false">
            <i class="iconfont icon-hamburger"></i>
        </button>
    </div>
    <nav id="menu-nav" class="hidden sm:flex flex-col">
        
        
            <div class="menu-item menu-home" role="menuitem">
                <a href="/.">
                    <i class="iconfont icon-home" aria-hidden="true"></i>
                    <span class="menu-title">é¦–é¡µ</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-archives" role="menuitem">
                <a href="/archives">
                    <i class="iconfont icon-archive" aria-hidden="true"></i>
                    <span class="menu-title">å½’æ¡£</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-categories" role="menuitem">
                <a href="/categories">
                    <i class="iconfont icon-folder" aria-hidden="true"></i>
                    <span class="menu-title">åˆ†ç±»</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-tags" role="menuitem">
                <a href="/tags">
                    <i class="iconfont icon-tag" aria-hidden="true"></i>
                    <span class="menu-title">æ ‡ç­¾</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-repository" role="menuitem">
                <a href="/repository">
                    <i class="iconfont icon-project" aria-hidden="true"></i>
                    <span class="menu-title">é¡¹ç›®</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-about" role="menuitem">
                <a href="/about">
                    <i class="iconfont icon-cup" aria-hidden="true"></i>
                    <span class="menu-title">å…³äº</span>
                </a>
            </div>
        
        

    </nav>
</header>

        <section class="main-section">
            
    <main class="flex-1 px-4 py-14 md:px-5 lg:px-8 lg:py-4 relative min-h-screen">
    

    <article class="content article article-archives article-type-list" itemscope="">
        <header class="article-header">
            
    
        <h1 class="article-title text-lg" itemprop="name">
            é‡å­¦ Shell ç¼–ç¨‹ä¹‹åŸºç¡€å›é¡¾ï¼ˆä¸€ï¼‰
        </h1>
    



            <p class="article-meta mb-3 text-xs">
                <span class="article-date">
    <i class="iconfont icon-calendar-check"></i>
	<a href="/2022-03-29-Shell%20%7C%20%E9%87%8D%E5%AD%A6%20Shell%20%E7%BC%96%E7%A8%8B%E4%B9%8B%E5%9F%BA%E7%A1%80%E5%9B%9E%E9%A1%BE%EF%BC%88%E4%B8%80%EF%BC%89.html" class="article-date">
	  <time datetime="2022-03-29T01:39:48.733Z" itemprop="datePublished">3æœˆ 29</time>
	</a>
</span>

                
    <span class="article-category">
    <i class="iconfont icon-folder"></i>
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">å­¦ä¹ </a> , <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/Shell/">Shell</a> , <a class="article-category-link" href="/categories/%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/">æ—¥å¸¸è®°å½•</a>
  </span>


                
    <span class="article-tags">
    <i class="iconfont icon-tag"></i>
    <a class="article-tag-none-link" href="/tags/Bash/" rel="tag">Bash</a>, <a class="article-tag-none-link" href="/tags/Linux/" rel="tag">Linux</a>, <a class="article-tag-none-link" href="/tags/Shell/" rel="tag">Shell</a>, <a class="article-tag-none-link" href="/tags/%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B/" rel="tag">è„šæœ¬ç¼–ç¨‹</a>
  </span>


                
                
    
        <span class="post-wordcount" itemprop="wordCount">å­—æ•°ç»Ÿè®¡: 3.3k(å­—)</span>
    
    
        <span class="post-readcount" itemprop="timeRequired">é˜…è¯»æ—¶é•¿: 14(åˆ†)</span>
    


            </p>
        </header>
        <div class="marked-body article-body">
            <h2 id="Shebang">Shebang</h2>
<p>Shebang æ˜¯æŒ‡å‡ºç°åœ¨ Shell è„šæœ¬æ–‡ä»¶ç¬¬ä¸€è¡Œä¸­çš„å‰ä¸¤ä¸ªå­—ç¬¦ <code>#!</code>ï¼Œç”¨ä»¥æŒ‡å®šå‘½ä»¤è§£é‡Šå™¨ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><code>#!/bin/sh</code> ä¼šä½¿ç”¨ <code>/bin/sh</code>ï¼Œå³ <code>bash</code>(<code>sh</code> æ˜¯ <code>bash</code> çš„ä¸€ä¸ªè½¯è¿æ¥)è§£é‡Šå™¨æ‰§è¡Œè„šæœ¬å†…å®¹ï¼›</li>
<li><code>#!/usr/bin/python</code> ä¼šä½¿ç”¨ python è§£é‡Šå™¨å»æ‰§è¡Œè„šæœ¬å†…å®¹ï¼›</li>
<li><code>#!/usr/bin/env NAME</code>ï¼Œæ˜¯ä¸€ç§åœ¨ä¸åŒå¹³å°ä¸Šéƒ½èƒ½æ‰¾åˆ° NAME è§£é‡Šå™¨ï¼Œå¹¶ç”¨ NAME è§£é‡Šå™¨æ‰§è¡Œè„šæœ¬å†…å®¹çš„å†™æ³•ã€‚</li>
</ul>
<blockquote>
<p>ğŸŸ¢ ä¸€äº›ç»†èŠ‚ï¼š</p>
<ol>
<li>å¦‚æœè„šæœ¬æ²¡æœ‰æŒ‡å®š <strong>shebang</strong>ï¼Œè„šæœ¬æ‰§è¡Œçš„æ—¶å€™ï¼Œé»˜è®¤ç”¨å½“å‰ shell å»è§£é‡Šè„šæœ¬ï¼Œå³ <strong>$SHELL</strong> ç¯å¢ƒå˜é‡ï¼›</li>
<li>å¦‚æœ <strong>shebang</strong> æŒ‡å®šäº†å¯æ‰§è¡Œçš„è§£é‡Šå™¨ï¼Œå¦‚ <strong>/bin/bash</strong>ã€<strong>/usr/bin/python</strong>ï¼Œé‚£ä¹ˆè„šæœ¬åœ¨æ‰§è¡Œæ—¶ï¼Œæ–‡ä»¶åä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™è§£é‡Šå™¨ï¼›</li>
<li>å¦‚æœ <strong>shebang</strong> æŒ‡å®šçš„è§£é‡Šå™¨æ²¡æœ‰å¯æ‰§è¡Œæƒé™ï¼Œåˆ™ä¼šæŠ¥é”™ï¼š&quot;bad interpreter: Permission denied&quot;ï¼›</li>
<li>å¦‚æœ <strong>shebang</strong> æŒ‡å®šçš„è§£é‡Šå™¨ä¸æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‚£ä¹ˆåˆ™ä¼šå¿½ç•¥æ­¤æŒ‡å®šçš„è§£é‡Šå™¨ï¼Œç»§è€Œè½¬äº¤ç»™å½“å‰çš„ shell å»æ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼›</li>
<li>å¦‚æœ <strong>shebang</strong> æŒ‡å®šçš„è§£é‡Šå™¨ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä¼šæŠ¥é”™ &quot;bad interpreter: No such file or directory&quot;ï¼›</li>
<li><strong>shebang</strong> æŒ‡å®šè§£é‡Šå™¨éœ€å†™å…¶ç»å¯¹è·¯å¾„ï¼ˆå¦‚ï¼š<strong>#!/bin/bash</strong>ï¼‰ï¼Œæ‰¾å¯»è§£é‡Šå™¨çš„è¿‡ç¨‹ä¸ä¼šåœ¨ <strong>$PATH</strong> ç¯å¢ƒå˜é‡ä¸­æ‰¾ï¼›</li>
<li>å¦‚æœä½¿ç”¨ <code>bash script.sh</code> è¿™æ ·çš„å‘½ä»¤æ¥æ‰§è¡Œè„šæœ¬ï¼Œè„šæœ¬ä¸­ <strong>shebang</strong> æ‰€æŒ‡å®šçš„è§£é‡Šå™¨ä¼šè¢«å¿½ç•¥è€Œä½¿ç”¨å‘½ä»¤æ˜¾å¼æŒ‡å®šçš„ <strong>bash</strong>ã€‚</li>
</ol>
</blockquote>
<h2 id="æ‰§è¡Œè„šæœ¬">æ‰§è¡Œè„šæœ¬</h2>
<p>æ‰§è¡Œä¸€ä¸ªè„šæœ¬ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼Œä»¥æ‰§è¡Œ <code>script.sh</code> è„šæœ¬ä¸ºä¾‹ï¼š</p>
<ul>
<li><code>bash script.sh</code> æˆ– <code>sh script.sh</code>ï¼Œè¢«æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶å¯ä»¥æ²¡æœ‰å¯æ‰§è¡Œæƒé™ï¼Œæˆ–è€…è„šæœ¬æ²¡æœ‰æŒ‡å®š <code>shebang</code> æ—¶å¯ä½¿ç”¨ï¼›</li>
<li>ä½¿ç”¨ ç»å¯¹/ç›¸å¯¹ è·¯å¾„æ‰§è¡Œè„šæœ¬ï¼Œè¢«æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶éœ€è¦æœ‰å¯æ‰§è¡Œæƒé™ï¼›</li>
<li><code>source script.sh</code> æˆ–è€… <code>. script.sh</code>ï¼Œåœ¨å½“å‰ Shell è¿›ç¨‹ä¸­æ‰§è¡Œè„šæœ¬ï¼ˆä¸äº§ç”Ÿå­ Shell è¿›ç¨‹ï¼‰ï¼›</li>
<li>å°‘è§ç”¨æ³•ï¼š<code>sh &lt; script.sh</code>ã€‚</li>
</ul>
<p>ä¸€äº›å¸¸è§çš„å…¶ä»– shell è§£é‡Šå™¨ï¼š</p>
<ul>
<li><code>/bin/sh</code></li>
<li><code>/bin/bash</code></li>
<li><code>/sbin/nologin</code></li>
<li><code>/usr/bin/sh</code></li>
<li><code>/usr/bin/bash</code></li>
<li><code>/usr/sbin/nologin</code></li>
<li><code>/bin/tcsh</code></li>
<li><code>/bin/csh</code></li>
<li><code>/bin/dash</code></li>
</ul>
<p>å½“å‰ç³»ç»Ÿæ”¯æŒçš„è§£é‡Šå™¨ç±»å‹å¯ä»¥æ‰§è¡Œ <code>cat /etc/shells</code> å‘½ä»¤æŸ¥çœ‹ã€‚ä¸è¿‡æœ€å—æ¬¢è¿çš„è§£é‡Šå™¨è¿˜æ˜¯ <code>bash</code> è§£é‡Šå™¨ã€‚<code>bash</code> è§£é‡Šå™¨æ”¯æŒä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>æ–‡ä»¶è·¯å¾„ tab é”®è¡¥å…¨</li>
<li>å‘½ä»¤è¡¥å…¨</li>
<li>å¿«æ·é”® <code>ctrl</code> + <code>a</code>ã€<code>e</code>ã€<code>u</code>ã€<code>k</code>ã€<code>l</code></li>
<li>é€šé…ç¬¦</li>
<li>å†å²å‘½ä»¤</li>
<li>å‘½ä»¤åˆ«å</li>
<li>å‘½ä»¤è¡Œå±•å¼€</li>
</ul>
<h2 id="Shell-å˜é‡">Shell å˜é‡</h2>
<p>Shell è¯­è¨€æ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œå¦‚å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼Œå…¶ä¹Ÿæœ‰å˜é‡çš„æ¦‚å¿µã€‚</p>
<h3 id="å®šä¹‰å˜é‡">å®šä¹‰å˜é‡</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\$ NAME=<span class="string">&quot;VALUE&quot;</span> <span class="comment"># é»˜è®¤æ‰€æœ‰å˜é‡ç±»å‹éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸èƒ½æŒ‡å®šç±»å‹</span></span><br><span class="line">\$ <span class="built_in">echo</span> <span class="variable">$&#123;NAME&#125;</span></span><br><span class="line">\$ VALUE</span><br></pre></td></tr></table></figure>
<p>å…³äºå•å¼•å·ã€åŒå¼•å·ã€åå¼•å·ç”¨æ³•çš„ä¸€ä¸ªæ¡ˆä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">\$ <span class="built_in">date</span>=<span class="string">&quot;2020-03-29 20:24:56 CST&quot;</span> </span><br><span class="line">\$ VAR=<span class="string">&#x27;$&#123;date&#125;&#x27;</span>;<span class="built_in">echo</span> <span class="variable">$&#123;VAR&#125;</span></span><br><span class="line">\$ <span class="variable">$date</span>                                        <span class="comment"># å•å¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²ä¸è§£æå˜é‡åŠå‘½ä»¤ç»“æœ</span></span><br><span class="line">\$ VAR=<span class="string">&quot;<span class="variable">$&#123;date&#125;</span>&quot;</span>;<span class="built_in">echo</span> <span class="variable">$&#123;VAR&#125;</span></span><br><span class="line">\$ 2020-03-29 20:24:56 CST                      <span class="comment"># åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²ä¼šè§£æå˜é‡å’Œå‘½ä»¤ç»“æœ</span></span><br><span class="line">\$ VAR=`<span class="built_in">date</span>`;<span class="built_in">echo</span> <span class="variable">$&#123;VAR&#125;</span></span><br><span class="line">\$ 2022å¹´ 03æœˆ 30æ—¥ æ˜ŸæœŸä¸‰ 08:58:33 CST           <span class="comment"># åå¼•å·ä»£è¡¨æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶å–å¾—å‘½ä»¤çš„ç»“æœ</span></span><br><span class="line">\$ VAR=<span class="string">&quot;`date`&quot;</span>;<span class="built_in">echo</span> <span class="variable">$&#123;VAR&#125;</span></span><br><span class="line">\$ 2022å¹´ 03æœˆ 30æ—¥ æ˜ŸæœŸä¸‰ 09:01:14 CST           <span class="comment"># åŒå¼•å·ä¹Ÿä¼šè§£æåå¼•å·æ‰§è¡Œçš„ç»“æœ</span></span><br></pre></td></tr></table></figure>
<h3 id="å˜é‡æ›¿æ¢åŠå¼•ç”¨">å˜é‡æ›¿æ¢åŠå¼•ç”¨</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">\$ NAME=<span class="string">&quot;ANOTHER_VALUE&quot;</span></span><br><span class="line">\$ <span class="built_in">echo</span> <span class="variable">$&#123;NAME&#125;</span></span><br><span class="line">\$ ANOTHER_VALUE</span><br><span class="line">\$ <span class="built_in">echo</span> <span class="variable">$NAME</span> <span class="comment"># çœç•¥èŠ±æ‹¬å·</span></span><br><span class="line">\$ ANOTHER_VALUE</span><br></pre></td></tr></table></figure>
<h3 id="å˜é‡åå‘½åè§„èŒƒ">å˜é‡åå‘½åè§„èŒƒ</h3>
<ul>
<li>è§åçŸ¥æ„ï¼Œé¿å…ä½¿ç”¨ä¿ç•™å…³é”®å­—</li>
<li>å˜é‡åç»„æˆå¯ä»¥æ˜¯å­—æ¯ã€æ•°å­—ä»¥åŠä¸‹åˆ’çº¿</li>
<li>ä¸èƒ½ä»¥æ•°å­—å¼€å¤´</li>
<li>ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·</li>
<li>å˜é‡åä¸¥æ ¼åŒºåˆ†å¤§å°å†™</li>
</ul>
<h3 id="å˜é‡çš„ä½œç”¨åŸŸ">å˜é‡çš„ä½œç”¨åŸŸ</h3>
<ul>
<li>å±€éƒ¨å˜é‡ï¼šåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨çš„å˜é‡</li>
<li>å…¨å±€å˜é‡ï¼šåªèƒ½åœ¨å½“å‰ Shell è¿›ç¨‹ä¸­ä½¿ç”¨çš„å˜é‡</li>
<li>ç¯å¢ƒå˜é‡ï¼šå¯ä»¥åœ¨å­ Shell è¿›ç¨‹ä¸­ä½¿ç”¨çš„å˜é‡</li>
</ul>
<blockquote>
<p>ğŸ”µ æ³¨æ„ç‚¹ï¼š</p>
<ol>
<li>ä¸åŒäºå…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼ŒShell å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯å…¨å±€çš„ï¼Œå³æ‰§è¡Œè¿™ä¸ªè„šæœ¬çš„è¿›ç¨‹å†…å¯è§ï¼ˆä¸ç­‰åŒäºè„šæœ¬å†…éƒ¨å¯è§ï¼Œå› ä¸ºä½¿ç”¨ <strong>source</strong> å¯ä»¥åœ¨ä¸€ä¸ª Shell è¿›ç¨‹å†…æ‰§è¡Œå¤šä¸ªè„šæœ¬ï¼‰ï¼Œè¦å®ç°ä»…åœ¨å‡½æ•°å†…éƒ¨å¯è§éœ€ä½¿ç”¨ <strong>local</strong> å…³é”®å­—ï¼Œå¦‚ï¼š<strong>local var=&quot;something&quot;</strong></li>
<li>å…¨å±€å˜é‡åªåœ¨å½“å‰ Shell è¿›ç¨‹å¯è§ï¼Œå¯¹å…¶ä»–è¿›ç¨‹ã€å­è¿›ç¨‹éƒ½ä¸å¯è§ï¼Œå½“ä½¿ç”¨ <strong>export</strong> å‘½ä»¤å°†å˜é‡è¿›è¡Œå¯¼å‡ºåï¼Œçˆ¶ Shell è¿›ç¨‹çš„è¢«å¯¼å‡ºçš„å˜é‡å°†ä¼šå¯¹å­è¿›ç¨‹å¯è§ï¼Œè¯¥å˜é‡å³è¢«ç§°ä½œç¯å¢ƒå˜é‡</li>
<li>çˆ¶ Shell è¿›ç¨‹é€€å‡ºåï¼Œæ­¤ç¯å¢ƒå˜é‡ä¼šæ¶ˆå¤±ï¼Œå¦‚è¦å®šä¹‰ä¸€äº›å¸¸ç”¨çš„ç¯å¢ƒå˜é‡å¹¶åœ¨å¯åŠ¨æ¯ä¸ª Shell è¿›ç¨‹æ—¶è‡ªåŠ¨å®šä¹‰å®ƒä»¬ï¼Œæ­¤æ—¶å°±éœ€å°†å®ƒä»¬å†™åœ¨ç‰¹å®šçš„é…ç½®æ–‡ä»¶é‡Œ</li>
</ol>
</blockquote>
<h3 id="ä¸€äº›ç‰¹æ®Šå˜é‡">ä¸€äº›ç‰¹æ®Šå˜é‡</h3>
<table>
<thead>
<tr>
<th>å˜é‡</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>$0</td>
<td>å½“å‰è„šæœ¬çš„æ–‡ä»¶å</td>
</tr>
<tr>
<td>$n(n&gt;=1)</td>
<td>ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ã€‚ï¼ˆn ä»£è¡¨æ˜¯ç¬¬å‡ ä¸ªä¼ é€’çš„å‚æ•°ï¼Œæ•°å­—ï¼‰</td>
</tr>
<tr>
<td>$#</td>
<td>ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ä¸ªæ•°ã€‚</td>
</tr>
<tr>
<td>$*</td>
<td>ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ï¼Œè¢«å¼•å·æ‹¬èµ·æ¥æ—¶æ‰€æœ‰å‚æ•°è§†ä½œä¸€ä¸ªæ•´ä½“ã€‚</td>
</tr>
<tr>
<td>$@</td>
<td>ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ï¼Œè¢«å¼•å·æ‹¬èµ·æ¥æ—¶æ¯ä¸ªå‚æ•°è§†ä½œä¸€ä¸ªæ•´ä½“ï¼Œå¯éå†æ¯ä¸ªå‚æ•°ã€‚</td>
</tr>
<tr>
<td>$?</td>
<td>ä¸Šä¸ªå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ï¼Œæˆ–å‡½æ•°çš„è¿”å›å€¼ã€‚</td>
</tr>
<tr>
<td>$$</td>
<td>å½“å‰ Shell è¿›ç¨‹ IDã€‚å¯¹äº Shell è„šæœ¬ï¼Œå°±æ˜¯è„šæœ¬æ‰€åœ¨çš„è¿›ç¨‹ IDã€‚</td>
</tr>
<tr>
<td>$!</td>
<td>ä¸Šä¸€æ¬¡åå°è¿›ç¨‹çš„ PIDã€‚</td>
</tr>
<tr>
<td>$_</td>
<td>è·å–ä¸Šæ¬¡æ‰§è¡Œå‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[skinyi@fedora ~]$ <span class="built_in">cat</span> test.sh</span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;ä½¿ç”¨&quot;$*&quot;æ‰“å°å‚æ•°ï¼š&#x27;</span></span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> <span class="string">&quot;$*&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$var</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;ä½¿ç”¨&quot;$@&quot;æ‰“å°å‚æ•°ï¼š&#x27;</span></span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$var</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">[skinyi@fedora ~]$ bash test.sh a b c d</span><br><span class="line">ä½¿ç”¨<span class="string">&quot;$*&quot;</span>æ‰“å°å‚æ•°ï¼š</span><br><span class="line">a b c d</span><br><span class="line">ä½¿ç”¨<span class="string">&quot;<span class="variable">$@</span>&quot;</span>æ‰“å°å‚æ•°ï¼š</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ğŸŸ¢ ä¸€èˆ¬æ¥è¯´ï¼Œç¨‹åºã€å‘½ä»¤çš„è¿”å›å€¼ä¸º 0 æ—¶ä»£è¡¨å‘½ä»¤æˆåŠŸæ‰§è¡Œå®Œæˆï¼Œè¿”å›å…¶ä»–å€¼å³ä»£è¡¨å‘ç”Ÿäº†é”™è¯¯ï¼Œå¯ä»¥æ ¹æ®è¿”å›å€¼å»æŸ¥è¯¢ç›¸åº”çš„æ–‡æ¡£è¿›è¡Œæ’é”™è°ƒè¯•ã€‚å¯¹äº Shell æ¥è¯´ï¼Œå‡½æ•°çš„è¿”å›å€¼è·Ÿ Cã€JAVA ä¹‹ç±»çš„å‡½æ•°è¿”å›å€¼çš„æ„ä¹‰å’Œä½œç”¨æ˜¯ä¸åŒçš„ã€‚</p>
</blockquote>
<h3 id="æŸ¥çœ‹ç¯å¢ƒå˜é‡">æŸ¥çœ‹ç¯å¢ƒå˜é‡</h3>
<ul>
<li>set</li>
<li>declare</li>
<li>env</li>
<li>export</li>
</ul>
<p>æ¡ˆä¾‹ï¼šåˆ¤æ–­ä¼ å…¥å‚æ•°ä¸ªæ•°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[skinyi@fedora ~]$ <span class="built_in">cat</span> test.sh</span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line">[ <span class="string">&quot;<span class="variable">$#</span>&quot;</span> -ne <span class="string">&quot;2&quot;</span> ] &amp;&amp; &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Expect 2 args!&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 112</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[skinyi@fedora ~]$ bash test.sh 1</span><br><span class="line">Expect 2 args!</span><br></pre></td></tr></table></figure>
<h2 id="Bash-å†…å»ºå‘½ä»¤">Bash å†…å»ºå‘½ä»¤</h2>
<p>å¯ä»¥ä½¿ç”¨ <code>compgen -b</code> æŸ¥çœ‹æ‰€æœ‰ shell å†…å»ºå‘½ä»¤ã€‚shell å†…å»ºå‘½ä»¤é™„åŠ åœ¨ bash å‘½ä»¤ä¸­ï¼Œå› æ­¤å®ƒä»¬æ˜¯éš bash è¿›ç¨‹å¸¸é©»å†…å­˜çš„ï¼Œå†…å»ºå‘½ä»¤æ‰§è¡Œä¸€èˆ¬ä¸éœ€è¦åˆ›å»ºå­è¿›ç¨‹ã€‚</p>
<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>echo</td>
<td>å°†æŒ‡å®šå­—ç¬¦ä¸²è¾“å‡ºåˆ° STDOUT</td>
</tr>
<tr>
<td>eval</td>
<td>å°†æŒ‡å®šçš„å‚æ•°æ‹¼æ¥æˆä¸€ä¸ªå‘½ä»¤ï¼Œç„¶åæ‰§è¡Œè¯¥å‘½ä»¤</td>
</tr>
<tr>
<td>exec</td>
<td>ç”¨æŒ‡å®šå‘½ä»¤æ›¿æ¢ shell è¿›ç¨‹</td>
</tr>
<tr>
<td>export</td>
<td>è®¾ç½®å­ shell è¿›ç¨‹å¯ç”¨çš„å˜é‡</td>
</tr>
<tr>
<td>read</td>
<td>ä» STDIN è¯»å–ä¸€è¡Œæ•°æ®å¹¶å°†å…¶èµ‹ç»™ä¸€ä¸ªå˜é‡</td>
</tr>
<tr>
<td>shift</td>
<td>å°†ä½ç½®å‚æ•°ä¾æ¬¡å‘ä¸‹é™ä¸€ä¸ªä½ç½®</td>
</tr>
<tr>
<td>alias</td>
<td>ä¸ºæŒ‡å®šå‘½ä»¤å®šä¹‰ä¸€ä¸ªåˆ«å</td>
</tr>
<tr>
<td>getopts</td>
<td>åˆ†ææŒ‡å®šçš„ä½ç½®å‚æ•°</td>
</tr>
<tr>
<td>let</td>
<td>è®¡ç®—ä¸€ä¸ªæ•°å­¦è¡¨è¾¾å¼ä¸­çš„æ¯ä¸ªå‚æ•°</td>
</tr>
<tr>
<td>local</td>
<td>åœ¨å‡½æ•°ä¸­åˆ›å»ºä¸€ä¸ªå±€éƒ¨å˜é‡</td>
</tr>
<tr>
<td>readonly</td>
<td>ä» STDIN è¯»å–ä¸€è¡Œæ•°æ®å¹¶å°†å…¶èµ‹ç»™ä¸€ä¸ªä¸å¯ä¿®æ”¹çš„å˜é‡</td>
</tr>
<tr>
<td>readarray</td>
<td>ä» STDIN è¯»å–æ•°æ®è¡Œå¹¶å°†å…¶æ”¾å…¥ç´¢å¼•æ•°ç»„</td>
</tr>
<tr>
<td>test</td>
<td>åŸºäºæŒ‡å®šæ¡ä»¶è¿”å›é€€å‡ºçŠ¶æ€ç  0 æˆ– 1</td>
</tr>
<tr>
<td>trap</td>
<td>å¦‚æœæ”¶åˆ°äº†æŒ‡å®šçš„ç³»ç»Ÿä¿¡å·ï¼Œæ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤</td>
</tr>
<tr>
<td>wait</td>
<td>ç­‰å¾…æŒ‡å®šçš„è¿›ç¨‹å®Œæˆï¼Œå¹¶è¿”å›é€€å‡ºçŠ¶æ€ç </td>
</tr>
</tbody>
</table>
<h3 id="echo">echo</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸¸ç”¨é€‰é¡¹</span></span><br><span class="line">-n ä¸æ¢è¡Œè¾“å‡º</span><br><span class="line">-e è§£æå­—ç¬¦ä¸²ä¸­çš„æ ¼å¼åŒ–å­—ç¬¦ï¼Œç­‰åŒäº `<span class="built_in">printf</span>` å‘½ä»¤çš„æ•ˆæœ</span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–å­—ç¬¦</span></span><br><span class="line">\n æ¢è¡Œ</span><br><span class="line">\r å›è½¦</span><br><span class="line">\t åˆ¶è¡¨ç¬¦</span><br><span class="line">\b é€€æ ¼</span><br></pre></td></tr></table></figure>
<h3 id="eval">eval</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¾‹å­</span></span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">set</span> 11 22 33 44 <span class="comment"># é€šè¿‡ set å‘½ä»¤è®¾ç½® $1, $2, $3, $4</span></span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$4</span>         <span class="comment"># è¾“å‡º $4 çš„å€¼ï¼Œå³ 44</span></span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="string">&#x27;$&#x27;</span><span class="variable">$#</span>      <span class="comment"># æ­¤æ—¶ä¼šè¾“å‡º $4 è€Œé $4 çš„å€¼</span></span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">eval</span> <span class="built_in">echo</span> <span class="string">&#x27;$&#x27;</span><span class="variable">$#</span> <span class="comment"># æ­¤æ—¶ä¼šè¾“å‡º $4 çš„å€¼ 44</span></span><br></pre></td></tr></table></figure>
<p>åŸç†ï¼ševal ä¼šæŠŠå‚æ•°è¿›è¡Œæ‰«ææ‹¼æ¥å†æ‰§è¡Œï¼Œå³ä¸Šè¿°ä¾‹å­æœ€åä¸€æ¡å‘½ä»¤ä¼šå…ˆæ‰«æå¾—åˆ° <code>echo $4</code>ï¼Œç„¶åå†å»æ‰§è¡Œã€‚</p>
<h3 id="exec">exec</h3>
<p>exec ä¼šåœ¨å½“å‰è¿›ç¨‹ä¸­ç›´æ¥æ‰§è¡Œåé¢çš„å‘½ä»¤è€Œä¸ä¼šåˆ›å»ºå­è¿›ç¨‹ï¼Œå› æ­¤å½“æ‰§è¡Œçš„å‘½ä»¤é€€å‡ºåè¯¥è¿›ç¨‹ä¹Ÿä¼šè¢«é”€æ¯ï¼Œå³æ•ˆæœæ˜¯åŸæœ¬çš„ bash è¿›ç¨‹â€œä¸è§äº†â€ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[skinyi@fedora ~]$ sudo su -</span><br><span class="line">[root@fedora ~]\<span class="comment"># exec whoami</span></span><br><span class="line">root</span><br><span class="line">[skinyi@fedora ~]$ </span><br></pre></td></tr></table></figure>
<h2 id="Shell-å­ä¸²">Shell å­ä¸²</h2>
<table>
<thead>
<tr>
<th>å­—ä¸²</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>${var}</td>
<td>è¿”å›å˜é‡ var çš„å€¼</td>
</tr>
<tr>
<td>${@var}</td>
<td>è¿”å›å˜é‡ var çš„å€¼çš„å­—ç¬¦ä¸²é•¿åº¦ï¼Œ<strong>æ³¨æ„@æ›¿æ¢ä¸º#</strong></td>
</tr>
<tr>
<td>${var:start}</td>
<td>è¿”å›å˜é‡ var çš„ start ä¸ªå­—ç¬¦ä¹‹åçš„æ‰€æœ‰å­—ç¬¦</td>
</tr>
<tr>
<td>${var:start:length}</td>
<td>è¿”å›å˜é‡ var çš„ start ä¸ªå­—ç¬¦ä¹‹åé•¿åº¦ä¸º length çš„å­å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>${var#word}</td>
<td>è¿”å›å˜é‡ var â€æå¤´â€œï¼ˆæœ€çŸ­åŒ¹é…ï¼‰åçš„å­å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>${var##word}</td>
<td>è¿”å›å˜é‡ var â€æå¤´â€œï¼ˆæœ€é•¿åŒ¹é…ï¼‰åçš„å­å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>${var%word}</td>
<td>è¿”å›å˜é‡ var â€å»å°¾â€œï¼ˆæœ€çŸ­åŒ¹é…ï¼‰åçš„å­å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>${var%%word}</td>
<td>è¿”å›å˜é‡ var â€å»å°¾â€œï¼ˆæœ€é•¿åŒ¹é…ï¼‰åçš„å­å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>${var/pattern/string}</td>
<td>è¿”å›å˜é‡ var ç»å•æ¬¡åŒ¹é… pattern å¹¶ä½¿ç”¨ string æ›¿æ¢åçš„å€¼</td>
</tr>
<tr>
<td>${var//pattern/string}</td>
<td>è¿”å›å˜é‡ var ç»å¤šæ¬¡åŒ¹é… pattern å¹¶ä½¿ç”¨ string æ›¿æ¢åçš„å€¼</td>
</tr>
<tr>
<td>${var:-word}</td>
<td>æœªå®šä¹‰å˜é‡ var æˆ–å€¼ä¸ºç©ºæ—¶è¿”å› wordï¼Œå¦åˆ™ç›´æ¥è¿”å› var çš„å€¼</td>
</tr>
<tr>
<td>${var:=word}</td>
<td>æœªå®šä¹‰å˜é‡ var æˆ–å€¼ä¸ºç©ºæ—¶è¿”å› wordï¼ŒåŒæ—¶å°† word èµ‹å€¼ç»™ var</td>
</tr>
<tr>
<td>${var:+word}</td>
<td>å½“å˜é‡ var å·²èµ‹å€¼æ—¶æ‰è¿”å› word è¿›è¡Œæ›¿æ¢ï¼Œå¦åˆ™ä¸æ›¿æ¢</td>
</tr>
<tr>
<td>${var:?MASSAGE}</td>
<td>å½“å˜é‡ var å·²èµ‹å€¼æ—¶æ‰è¿”å› var çš„å€¼ï¼Œå¦åˆ™è¾“å‡º MASSAGE åˆ° STDERR</td>
</tr>
</tbody>
</table>
<p>å­ä¸²å¤„ç†ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[skinyi@fedora ~]$ var=<span class="string">&quot;abcdefghi&quot;</span></span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;var&#125;</span></span><br><span class="line">abcdefghi</span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;#var&#125;</span></span><br><span class="line">9</span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;var:2&#125;</span></span><br><span class="line">cdefghi</span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;var:0-5&#125;</span>     <span class="comment"># ä»å³æ•°ç¬¬äº”ä¸ªå¼€å§‹è¾“å‡º</span></span><br><span class="line">efghi</span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;var:2:4&#125;</span></span><br><span class="line">cdef</span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;var:0-4:2&#125;</span>   <span class="comment"># ä»å³æ•°ç¬¬å››ä¸ªå¼€å§‹è¾“å‡ºä¸¤ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="built_in">fg</span></span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;var#a*d&#125;</span></span><br><span class="line">efghi</span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;var%e*i&#125;</span></span><br><span class="line">abcd</span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;var/cde/edc&#125;</span></span><br><span class="line">abedcfghi</span><br></pre></td></tr></table></figure>
<h3 id="æ¡ˆä¾‹â€”â€”æ‰¹é‡æ–‡ä»¶åä¿®æ”¹">æ¡ˆä¾‹â€”â€”æ‰¹é‡æ–‡ä»¶åä¿®æ”¹</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡†å¤‡å·¥ä½œï¼šäº§ç”Ÿå®éªŒæ•°æ®</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ <span class="built_in">touch</span> file_&#123;1..5&#125;_draft.&#123;jpg,png&#125; &amp;&amp; <span class="built_in">ls</span></span><br><span class="line">file_1_draft.jpg  file_2_draft.jpg  file_3_draft.jpg  file_4_draft.jpg  file_5_draft.jpg</span><br><span class="line">file_1_draft.png  file_2_draft.png  file_3_draft.png  file_4_draft.png  file_5_draft.png</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ <span class="built_in">mv</span> file_2_draft.jpg file_2_finished.jpg</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ <span class="built_in">mv</span> file_2_draft.png file_2_delete.png</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ <span class="built_in">ls</span></span><br><span class="line">file_1_draft.jpg  file_2_delete.png    file_3_draft.jpg  file_4_draft.jpg  file_5_draft.jpg</span><br><span class="line">file_1_draft.png  file_2_finished.jpg  file_3_draft.png  file_4_draft.png  file_5_draft.png</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$</span><br><span class="line"><span class="comment"># ä»»åŠ¡ä¸€ï¼šå°†æ‰€æœ‰ç»“å°¾ä¸º draft çš„ jpg æ–‡ä»¶é‡æ–°å‘½åï¼Œå»æ‰ç»“å°¾çš„ _draft åç¼€</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ <span class="keyword">for</span> filename <span class="keyword">in</span> `<span class="built_in">ls</span> *draft.jpg`; <span class="keyword">do</span> <span class="built_in">mv</span> <span class="variable">$filename</span> <span class="variable">$&#123;filename/_draft/&#125;</span>; \</span><br><span class="line"><span class="keyword">done</span>; <span class="built_in">ls</span></span><br><span class="line">file_1_draft.png  file_2_delete.png    file_3_draft.png  file_4_draft.png  file_5_draft.png</span><br><span class="line">file_1.jpg        file_2_finished.jpg  file_3.jpg        file_4.jpg        file_5.jpg</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$</span><br><span class="line"><span class="comment"># ä»»åŠ¡äºŒï¼šå°†æ‰€æœ‰å¼€å¤´ä¸º file ä¸”ç»“å°¾ä¸º draft çš„ png æ–‡ä»¶é‡æ–°å‘½åï¼Œä¿®æ”¹ä¸º pic_&#123;n&#125;_undo.png çš„å½¢å¼</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ <span class="keyword">for</span> filename <span class="keyword">in</span> `<span class="built_in">ls</span> *draft.png`; <span class="keyword">do</span> tmp=<span class="variable">$&#123;filename/draft/undo&#125;</span>; \</span><br><span class="line"><span class="built_in">mv</span> <span class="variable">$filename</span> <span class="variable">$&#123;tmp/file/pic&#125;</span>; <span class="keyword">done</span>; <span class="built_in">ls</span></span><br><span class="line">file_1.jpg         file_2_finished.jpg  file_4.jpg  pic_1_undo.png  pic_4_undo.png</span><br><span class="line">file_2_delete.png  file_3.jpg           file_5.jpg  pic_3_undo.png  pic_5_undo.png</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$</span><br></pre></td></tr></table></figure>
<p>Shell æ‰©å±•å˜é‡ç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœªå®šä¹‰ undefined å˜é‡ï¼Œå®šä¹‰ defined å˜é‡çš„å€¼ä¸º defined</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ <span class="built_in">echo</span> <span class="variable">$undefined</span></span><br><span class="line"></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ defined=<span class="string">&quot;defined&quot;</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$</span><br><span class="line"><span class="comment"># var2=$&#123;var1:-word&#125; ç”¨æ³•ç¤ºä¾‹</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ res=<span class="variable">$&#123;undefined:-&quot;not defined&quot;&#125;</span>;<span class="built_in">printf</span> <span class="string">&quot;<span class="variable">$undefined</span>\n<span class="variable">$res</span>\n&quot;</span></span><br><span class="line"></span><br><span class="line">not defined</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ res=<span class="variable">$&#123;defined:-&quot;not defined&quot;&#125;</span>;<span class="built_in">printf</span> <span class="string">&quot;<span class="variable">$defined</span>\n<span class="variable">$res</span>\n&quot;</span></span><br><span class="line">defined</span><br><span class="line">defined</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$</span><br><span class="line"><span class="comment"># var2=$&#123;var1:=word&#125; ç”¨æ³•ç¤ºä¾‹</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ res=<span class="variable">$&#123;undefined:=&quot;will defined&quot;&#125;</span>;<span class="built_in">printf</span> <span class="string">&quot;<span class="variable">$undefined</span>\n<span class="variable">$res</span>\n&quot;</span></span><br><span class="line">will defined</span><br><span class="line">will defined</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ res=<span class="variable">$&#123;defined:=&quot;will redefined?&quot;&#125;</span>;<span class="built_in">printf</span> <span class="string">&quot;<span class="variable">$defined</span>\n<span class="variable">$res</span>\n&quot;</span></span><br><span class="line">defined</span><br><span class="line">defined</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ <span class="built_in">unset</span> undefined           <span class="comment"># é”€æ¯ undefined å˜é‡</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ <span class="built_in">echo</span> <span class="variable">$undefined</span></span><br><span class="line"></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$</span><br><span class="line"><span class="comment"># var2=$&#123;var1:+word&#125; ç”¨æ³•ç¤ºä¾‹</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ res=<span class="variable">$&#123;undefined:+&quot;something&quot;&#125;</span>;<span class="built_in">printf</span> <span class="string">&quot;<span class="variable">$undefined</span>\n<span class="variable">$res</span>\n&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ res=<span class="variable">$&#123;defined:+&quot;something&quot;&#125;</span>;<span class="built_in">printf</span> <span class="string">&quot;<span class="variable">$defined</span>\n<span class="variable">$res</span>\n&quot;</span></span><br><span class="line">defined</span><br><span class="line">something</span><br><span class="line"><span class="comment"># var2=$&#123;var1:?MASSAGE&#125; ç”¨æ³•ç¤ºä¾‹</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ res=<span class="variable">$&#123;undefined:?&quot;undefined is not defined!&quot;&#125;</span>;<span class="built_in">printf</span> <span class="string">&quot;<span class="variable">$undefined</span>\n<span class="variable">$res</span>\n&quot;</span></span><br><span class="line">bash: undefined: undefined is not defined!      <span class="comment"># ç¨‹åºç«‹å³è¿”å›ï¼Œæ²¡æœ‰æ‰§è¡Œåé¢çš„è¯­å¥</span></span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ res=<span class="variable">$&#123;undefined:?&#125;</span>        <span class="comment"># ä¹Ÿå¯ä¸æŒ‡å®šæŠ¥é”™ä¿¡æ¯ï¼Œä¼šæœ‰é»˜è®¤çš„ stderr ä¿¡æ¯</span></span><br><span class="line">bash: undefinedï¼šå‚æ•°ä¸ºç©ºæˆ–æœªè®¾ç½®</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$ res=<span class="variable">$&#123;defined:?&quot;undefined is not defined!&quot;&#125;</span>;<span class="built_in">printf</span> <span class="string">&quot;<span class="variable">$defined</span>\n<span class="variable">$res</span>\n&quot;</span></span><br><span class="line">defined</span><br><span class="line">defined</span><br><span class="line">[skinyi@fedora <span class="keyword">case</span>]$</span><br></pre></td></tr></table></figure>
<h2 id="å‘½ä»¤åˆ—è¡¨ã€è¿›ç¨‹åˆ—è¡¨ã€è¿›ç¨‹åˆ†ç»„">å‘½ä»¤åˆ—è¡¨ã€è¿›ç¨‹åˆ—è¡¨ã€è¿›ç¨‹åˆ†ç»„</h2>
<ul>
<li>å‘½ä»¤åˆ—è¡¨ï¼Œç¤ºä¾‹ï¼š<em>pwd; ls; ...</em>   ç›´æ¥æ‰§è¡Œï¼Œä¸èƒ½æ”¾åˆ°åå°è¿›ç¨‹</li>
<li>è¿›ç¨‹åˆ—è¡¨ï¼Œç¤ºä¾‹ï¼š<em>(pwd; ls; ...)</em> åœ¨å­ shell ä¸­æ‰§è¡Œç„¶åè¿”å›çˆ¶ shell</li>
<li>è¿›ç¨‹åˆ†ç»„ï¼Œç¤ºä¾‹ï¼š<em>{pwd; ls; ...}</em> ä¸ä¼šå¯åŠ¨å­ shellï¼Œä¸å‘½ä»¤åˆ—è¡¨ä¸€æ ·ï¼Œåªæ˜¯ç»™å‘½ä»¤è¿›è¡Œäº†åˆ†ç»„</li>
</ul>
<blockquote>
<p>ğŸŸ¢ å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ BASH_SUBSHELL æ¥åˆ¤æ–­è‡ªå·±æ˜¯å¦æ˜¯å­ Shellï¼Œè‹¥è¯¥å˜é‡çš„å€¼ä¸º 0ï¼Œåˆ™ä»£è¡¨è‡ªå·±ä¸æ˜¯ subshellï¼Œè‹¥ä¸ºå…¶ä»–å€¼åˆ™æ˜¯ã€‚<br />
ğŸŸ¢ åˆ›å»ºå­ shell æ—¶æ–°å»ºå­è¿›ç¨‹ä½†å­è¿›ç¨‹ç”± bash ç»´æŠ¤ï¼Œåªèƒ½é€šè¿‡ $BASHPID è·å–PIDï¼Œä¸çˆ¶è¿›ç¨‹å…±ç”¨åŒä¸€ä¸ª POSIX è¯­ä¹‰ä¸‹çš„ PID ä¸ PPIDã€‚æœ¬è´¨ä¸Šå®ç°äº†å¤šè¿›ç¨‹ã€‚</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[skinyi@fedora ~]$ <span class="built_in">pwd</span>; <span class="built_in">ls</span>; <span class="built_in">echo</span> <span class="variable">$BASH_SUBSHELL</span></span><br><span class="line">/home/skinyi</span><br><span class="line"><span class="keyword">case</span>  gh-pages  package-lock.json  test.sh</span><br><span class="line">0</span><br><span class="line">[skinyi@fedora ~]$ (<span class="built_in">pwd</span>; <span class="built_in">ls</span>; <span class="built_in">echo</span> <span class="variable">$BASH_SUBSHELL</span>)</span><br><span class="line">/home/skinyi</span><br><span class="line"><span class="keyword">case</span>  gh-pages  package-lock.json  test.sh</span><br><span class="line">1</span><br><span class="line">[skinyi@fedora ~]$ <span class="built_in">echo</span> <span class="variable">$BASH_SUBSHELL</span>;(<span class="built_in">echo</span> <span class="variable">$BASH_SUBSHELL</span>;(<span class="built_in">echo</span> <span class="variable">$BASH_SUBSHELL</span>;(<span class="built_in">echo</span> <span class="variable">$BASH_SUBSHELL</span>;(<span class="built_in">echo</span> <span class="variable">$BASH_SUBSHELL</span>;(<span class="built_in">echo</span> <span class="variable">$BASH_SUBSHELL</span>;)))))</span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">[skinyi@fedora ~]$</span><br></pre></td></tr></table></figure>

        </div>
        
<blockquote class="copyright">
    <p><strong>æœ¬æ–‡é“¾æ¥ : </strong><a class="permalink" href="https://skinyi.github.io/2022-03-29-Shell%20|%20%E9%87%8D%E5%AD%A6%20Shell%20%E7%BC%96%E7%A8%8B%E4%B9%8B%E5%9F%BA%E7%A1%80%E5%9B%9E%E9%A1%BE%EF%BC%88%E4%B8%80%EF%BC%89.html">https://skinyi.github.io/2022-03-29-Shell | é‡å­¦ Shell ç¼–ç¨‹ä¹‹åŸºç¡€å›é¡¾ï¼ˆä¸€ï¼‰.html</a></p>
    <p><strong>è¿™ç¯‡æ–‡ç« ç”±ä½œè€…èƒ¡ç¼–ä¹±é€ æˆ–è€…ç”±å…¶ä»–æ–‡ç« å¤åˆ¶ç²˜è´´è€Œæ¥ï¼Œå…¶ä¸­æœ‰äº›å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ï¼Œè¯·è°¨æ…å‚è€ƒå¤åˆ¶æ–‡ç« ä¸­çš„å†…å®¹ã€‚</strong></p>
</blockquote>


    </article>
    
    <section id="comments">
        
    </section>


    

</main>


<aside style="" id="sidebar" class="aside aside-fixture">
    <div class="toc-sidebar">
        <nav id="toc" class="article-toc">
            <h3 class="toc-title">æ–‡ç« ç›®å½•</h3>
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Shebang"><span class="toc-number">1.</span> <span class="toc-text">Shebang</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC"><span class="toc-number">2.</span> <span class="toc-text">æ‰§è¡Œè„šæœ¬</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell-%E5%8F%98%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">Shell å˜é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">3.1.</span> <span class="toc-text">å®šä¹‰å˜é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E6%9B%BF%E6%8D%A2%E5%8F%8A%E5%BC%95%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">å˜é‡æ›¿æ¢åŠå¼•ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%90%8D%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-number">3.3.</span> <span class="toc-text">å˜é‡åå‘½åè§„èŒƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">3.4.</span> <span class="toc-text">å˜é‡çš„ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E7%89%B9%E6%AE%8A%E5%8F%98%E9%87%8F"><span class="toc-number">3.5.</span> <span class="toc-text">ä¸€äº›ç‰¹æ®Šå˜é‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">3.6.</span> <span class="toc-text">æŸ¥çœ‹ç¯å¢ƒå˜é‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bash-%E5%86%85%E5%BB%BA%E5%91%BD%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">Bash å†…å»ºå‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#echo"><span class="toc-number">4.1.</span> <span class="toc-text">echo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eval"><span class="toc-number">4.2.</span> <span class="toc-text">eval</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exec"><span class="toc-number">4.3.</span> <span class="toc-text">exec</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell-%E5%AD%90%E4%B8%B2"><span class="toc-number">5.</span> <span class="toc-text">Shell å­ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E2%80%94%E2%80%94%E6%89%B9%E9%87%8F%E6%96%87%E4%BB%B6%E5%90%8D%E4%BF%AE%E6%94%B9"><span class="toc-number">5.1.</span> <span class="toc-text">æ¡ˆä¾‹â€”â€”æ‰¹é‡æ–‡ä»¶åä¿®æ”¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E5%88%97%E8%A1%A8%E3%80%81%E8%BF%9B%E7%A8%8B%E5%88%97%E8%A1%A8%E3%80%81%E8%BF%9B%E7%A8%8B%E5%88%86%E7%BB%84"><span class="toc-number">6.</span> <span class="toc-text">å‘½ä»¤åˆ—è¡¨ã€è¿›ç¨‹åˆ—è¡¨ã€è¿›ç¨‹åˆ†ç»„</span></a></li></ol>
        </nav>
    </div>
</aside>





        </section>
        <footer class="hidden lg:block fixed bottom-0 left-0 sm:w-1/12 bg-gray-100 z-40">
    
    
        <p class="footer-custom">â¤ Powered by <a href="https://hexo.io/" target="_blank" rel="noopener noreferrer">Hexo</a> with <a href="https://github.com/fengkx/hexo-theme-purer" target="_blank" rel="noopener noreferrer">Purer theme</a>.</p>
    
</footer>

        <div id="mask" class="hidden mask fixed inset-0 bg-gray-900 opacity-75 z-40"></div>
        <div id="search-view-container" class="hidden shadow-xl"></div>
        
<script src="/js/dom-event.min.js"></script>



<script src="/js/local-search.min.js"></script>



    <script src="//cdn.jsdelivr.net/npm/lightgallery.js@1.1.3/dist/js/lightgallery.min.js"></script>
    
<script src="/js/light-gallery.min.js"></script>






    </body>
</html>
